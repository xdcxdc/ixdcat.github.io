<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>谢栋灿&#39;s Blog</title>
  <subtitle>i.xdc.at</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://i.xdc.at/"/>
  <updated>2016-11-20T17:23:35.540Z</updated>
  <id>https://i.xdc.at/</id>
  
  <author>
    <name>谢栋灿</name>
    <email>i@xdc.at</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【置顶】欢迎来到本站</title>
    <link href="https://i.xdc.at/2048/10/24/top-pinned/"/>
    <id>https://i.xdc.at/2048/10/24/top-pinned/</id>
    <published>2048-10-23T16:00:00.000Z</published>
    <updated>2016-11-20T17:23:35.540Z</updated>
    
    <content type="html"><![CDATA[<p>欢迎来到本站<br>目前仍在建设中…<br><a id="more"></a><br>与我联系请发邮件至 <code>i@xdc.at</code><br>关注公众号与打赏请点击下方按钮，谢谢支持~</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;欢迎来到本站&lt;br&gt;目前仍在建设中…&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>【软件工具】ArcGIS空间数据坐标转换工具</title>
    <link href="https://i.xdc.at/2018/01/01/coordinate-transformation-tool/"/>
    <id>https://i.xdc.at/2018/01/01/coordinate-transformation-tool/</id>
    <published>2018-01-01T06:06:00.000Z</published>
    <updated>2018-01-03T12:04:59.543Z</updated>
    
    <content type="html"><![CDATA[<p>众所周知，国内在线地图中，大部分使用的坐标都与标准的WGS 1984之间有偏差（除了天地图）。以之前分享的 <a href="/2017/10/28/add-google-map-to-arcmap/">WMTS服务</a> 为例，其中就有不少图层采用 GCJ02 坐标，与采用标准WGS 1984的图层之间存在数百米的偏差。具体可参考维基百科 <a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E6%B5%8B%E7%BB%98%E9%99%90%E5%88%B6" target="_blank" rel="external">中华人民共和国测绘限制</a><br>几种坐标之间的差别简要概括如下：</p>
<blockquote>
<p>WGS84：即最广泛使用的、国际通用的地理坐标系，由经、纬度确定地球表面的点的位置。因GPS设备采用该坐标系，因此也将采用WGS84坐标系的坐标称为GPS坐标。<br>GCJ02：由中国国测局制定，在WGS84坐标的基础上，其所采用的混淆算法会在经纬度中加入看似随机的偏移，号称可以促进national安全。坊间也有称火星坐标。高德地图、谷歌中国地图等采用。<br>BD09：百度地图使用的经纬坐标系统，其在GCJ02上多增加了一次变换，号称“有助保护用户隐私”。</p>
</blockquote>
<p>以本人愚见，这种坐标加偏除了给开发者、研究人员造成麻烦以及加深封闭之外，实在与安全和保护隐私无关。保护安全，应该是在数据层面，不要在地图上公开出现机密信息即可，也还没见哪些地方测绘部门使用这种坐标加偏来“保护安全”的，更何况由国家测绘地理信息局监制的天地图使用的还是标准的WGS84坐标系。“保护用户隐私”更是无稽之谈，在非必要情况下不要使用精确坐标以及确保数据加密传输和存储才是正道，坐标加偏实属掩耳盗铃。</p>
<p>不过既然“上有政策”，自然“下有对策”，毕竟不同数据源之间匹配是个硬需求。相关转换算法在业内已是公开的秘密，相信很多人也用过相关的转换算法或转换软件。不过这些软件一般是对输入的x,y坐标值计算处理后输出转换后的坐标值，只能处理表格，并不能处理空间数据。远见很早前也曾发布过一个转换工具，但当时的版本只能够处理点数据。而本次发布的版本，全面<strong>支持点、线、面要素</strong>，对<strong>多部件、有孔洞</strong>的要素也能完整处理，并且<strong>原样保留属性表</strong>。</p>
<p>另外，本工具内置的转换函数在部分公开代码的基础上，也进行了一定的修改，理论上能提高互转的精度。但由于高德API和百度API中对于WGS84转GCJ02的返回结果还不一样，所以也很难找到个“绝对准确”的参考，只是希望能够尽可能的减小误差，肯定要比在ArcGIS内肉眼比对进行空间校正要精确得多。这里不对具体的转换算法做过多讨论。<br>除了WGS84、GCJ02、BD09的互转，软件还支持输入自定义转换函数（python脚本），因此可以作为一个通用的空间数据坐标转换工具使用。</p>
<p>下载地址见文末，使用前请先阅读下文使用说明。</p>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><p>下载压缩包后，将解压出的tbx文件放在任一文件夹内，只要能够在ArcMap的目录窗口内找到即可，否则可能需要添加新的文件夹连接。<br>双击tbx文件，展开工具箱。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/coordinate-transformation-tool/tbx-in-catalog.png" alt="工具箱" title="">
                </div>
                <div class="image-caption">工具箱</div>
            </figure><br>再双击工具“xdc坐标转换工具”打开输入界面。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/coordinate-transformation-tool/input-window.png" alt="输入界面" title="">
                </div>
                <div class="image-caption">输入界面</div>
            </figure></p>
<blockquote>
<p>如果没有显示右侧帮助栏，请点击右下角的“显示帮助&gt;&gt;”按钮展开帮助信息。<br>点击每个输入框，均会在帮助侧栏内显示相应的帮助信息。</p>
</blockquote>
<p>输入必需的参数后，点击确定即可运行。</p>
<blockquote>
<p><strong>重要提示：</strong>如果运行窗口较小，请手动调整窗口大小，以便查看运行过程中的提示信息。</p>
</blockquote>
<p>以下为示例数据转换前后的情况。<br>转换前的示例数据，包含点、线、面（多部件面、带孔洞面），WGS84坐标系，底图为天地图。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/coordinate-transformation-tool/wgs84.jpg" alt="转换前（WGS84）" title="">
                </div>
                <div class="image-caption">转换前（WGS84）</div>
            </figure></p>
<p>示例数据坐标转GCJ02后，底图为高德地图。可以看到与原图形之间有数百米的偏移。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/coordinate-transformation-tool/gcj02.jpg" alt="转换后（GCJ02）" title="">
                </div>
                <div class="image-caption">转换后（GCJ02）</div>
            </figure></p>
<h3 id="使用场景示例"><a href="#使用场景示例" class="headerlink" title="使用场景示例"></a>使用场景示例</h3><p><strong> 1）高德地图数据转WGS84 </strong><br>从高德地图获取到的点数据（如POI）、线数据（如导航路径）、面数据（如行政边界面）等其坐标均为GCJ02，可利用该工具转为标准的WGS84坐标。</p>
<blockquote>
<p>注意：GCJ02和BD09只是在WGS84的基础上进行了坐标值的偏移，并不是两种新的ArcGIS内概念的“坐标系”，相关空间数据在存储时坐标系选择<code>GCS_WGS_1984</code>即可。<br>亦即：内置的6种转换方式只是坐标值之间的偏移，不涉及“坐标系”的变化，转换前后的shp文件的坐标系（空间参考）都应是<code>GCS_WGS_1984</code>。</p>
</blockquote>
<p><strong> 2）地方坐标转WGS84再转GCJ02 </strong><br>一般该需求来源于将地方测绘相关数据放到Web平台上，使用高德地图作为底图。<br>地方坐标转WGS84这一步使用ArcGIS的投影工具即可完成，根据各地情况不同，可能需要选择合适的地理变换。可借助之前分享的 <a href="/2017/10/28/add-google-map-to-arcmap/">WMTS服务</a> 添加WGS84的底图来检验投影结果。<br>将投影的数据再进行WGS84转GCJ02，即可放到Web平台上与高德地图匹配。</p>
<p><strong> 3）百度像素坐标转BD09再转WGS84 </strong><br>以抓取百度地图建筑轮廓为例，从百度地图17级上获取到的建筑轮廓点坐标为像素坐标，因此由轮廓点集构建的面数据需先进行一次转换将像素坐标转为百度BD09经纬坐标。该步转换所需的自定义转换函数已包含在提供下载的压缩包内，另外注意此步输出要素的坐标系（空间参考）应选择<code>GCS_WGS_1984</code>。<br>再将转换得到的BD09坐标的面数据使用内置转换方式转为WGS84坐标即可。</p>
<h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p>在远见（@farsightj）公众号内回复 <strong>坐标转换</strong> 获取下载地址。<br>软件虽经过一定的测试，但因系统环境和ArcGIS版本等原因，仍有可能出现无法正常使用的情况。理论上，Windows 最低版本要求为 Windows 7，ArcGIS 最低版本为10.1 。<br>使用过程中遇到问题请先参照运行提示进行处理，如仍无法解决可联系邮箱 <code>i@xdc.at</code>，反馈问题时请提供操作系统版本、ArcGIS版本等信息，并附上运行截图。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;众所周知，国内在线地图中，大部分使用的坐标都与标准的WGS 1984之间有偏差（除了天地图）。以之前分享的 &lt;a href=&quot;/2017/10/28/add-google-map-to-arcmap/&quot;&gt;WMTS服务&lt;/a&gt; 为例，其中就有不少图层采用 GCJ02 坐标，与
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
      <category term="坐标转换" scheme="https://i.xdc.at/tags/%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/"/>
    
      <category term="WGS84" scheme="https://i.xdc.at/tags/WGS84/"/>
    
      <category term="GCJ02" scheme="https://i.xdc.at/tags/GCJ02/"/>
    
      <category term="BD09" scheme="https://i.xdc.at/tags/BD09/"/>
    
  </entry>
  
  <entry>
    <title>规划年会论文关键词词云分析（2014-2017）</title>
    <link href="https://i.xdc.at/2017/11/26/word-cloud-of-keywords-in-anpc-papers/"/>
    <id>https://i.xdc.at/2017/11/26/word-cloud-of-keywords-in-anpc-papers/</id>
    <published>2017-11-26T08:58:00.000Z</published>
    <updated>2017-11-26T14:49:32.639Z</updated>
    
    <content type="html"><![CDATA[<p>2017中国城市规划年会已经过去一周了，那么今年规划界在主要关注些什么呢？正好年会提供了《2017中国城市规划年会论文集》的光盘，通过这些论文的关键词分布情况来分析今年的关注点，是一个可行的方法。另外手头也有从2014年起每年的论文集，也能做个逐年的对比了。</p>
<h3 id="分析方法"><a href="#分析方法" class="headerlink" title="分析方法"></a>分析方法</h3><p>年会论文集里的论文一般都是 PDF 格式，可以用 <a href="https://pypi.python.org/pypi/pdfminer3k" target="_blank" rel="external">pdfminer3k</a> 这个第三方 python 库来获取文本内容（<em>少部分 PDF 文件获取文本失败，可能1000多个文件是不同的人用不同的软件转换的，pdfminer3k 对某些类型的支持不是很好</em>），并从中提取出文中列出的关键词。<br>关键词的统计结果采用词云的方式进行可视化。词云使用 <a href="https://wordart.com/" target="_blank" rel="external">WordArt.com</a> 该网站来生成，频率排名前300的关键词使用不同的字体大小显示。</p>
<h3 id="分析结果"><a href="#分析结果" class="headerlink" title="分析结果"></a>分析结果</h3><p>以下为2014-2017年逐年的关键词词云。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/word-cloud-of-keywords-in-anpc-papers/WordCloud2014.jpg" alt="2014年规划年会论文关键词词云" title="">
                </div>
                <div class="image-caption">2014年规划年会论文关键词词云</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/word-cloud-of-keywords-in-anpc-papers/WordCloud2015.jpg" alt="2015年规划年会论文关键词词云" title="">
                </div>
                <div class="image-caption">2015年规划年会论文关键词词云</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/word-cloud-of-keywords-in-anpc-papers/WordCloud2016.jpg" alt="2016年规划年会论文关键词词云" title="">
                </div>
                <div class="image-caption">2016年规划年会论文关键词词云</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/word-cloud-of-keywords-in-anpc-papers/WordCloud2017.jpg" alt="2017年规划年会论文关键词词云" title="">
                </div>
                <div class="image-caption">2017年规划年会论文关键词词云</div>
            </figure>
<p>很明显，城市更新是今年关注的一大重点。另外，通过逐年的对比，也可以发现一些有趣的地方。</p>
<ol>
<li>新型城镇化是2014年的最大热点，但近几年关注度在逐渐下降。</li>
<li>城市更新的热度逐年上涨，并在今年成为最大热点。</li>
<li>新常态昙花一现，潮流来得快去的也快。</li>
<li>公众参与一直是广受关注的一个话题。</li>
<li>GIS一直是规划领域的重要分析工具。</li>
</ol>
<p>更多等你来发现…</p>
<p>欢迎交流~ （E-mail: <code>i@xdc.at</code>）</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2017中国城市规划年会已经过去一周了，那么今年规划界在主要关注些什么呢？正好年会提供了《2017中国城市规划年会论文集》的光盘，通过这些论文的关键词分布情况来分析今年的关注点，是一个可行的方法。另外手头也有从2014年起每年的论文集，也能做个逐年的对比了。&lt;/p&gt;
&lt;h3
    
    </summary>
    
      <category term="数据分析" scheme="https://i.xdc.at/categories/data-analysis/"/>
    
    
      <category term="规划年会" scheme="https://i.xdc.at/tags/%E8%A7%84%E5%88%92%E5%B9%B4%E4%BC%9A/"/>
    
      <category term="关键词" scheme="https://i.xdc.at/tags/%E5%85%B3%E9%94%AE%E8%AF%8D/"/>
    
      <category term="词云" scheme="https://i.xdc.at/tags/%E8%AF%8D%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>高德行政区边界获取与整理（shp格式）</title>
    <link href="https://i.xdc.at/2017/11/05/amap-district-to-shapefile/"/>
    <id>https://i.xdc.at/2017/11/05/amap-district-to-shapefile/</id>
    <published>2017-11-05T06:28:00.000Z</published>
    <updated>2017-11-26T12:15:35.057Z</updated>
    
    <content type="html"><![CDATA[<p>高德地图提供了 <a href="http://lbs.amap.com/api/webservice/guide/api/district" target="_blank" rel="external">行政区域查询 API</a> 来获取区县及以上行政区域的矢量边界，以及街镇及以上行政单元的中心点（非几何中心，一般是政府所在地）。高德拥有甲级导航电子地图测绘资质，在行政边界的准确度上更高。尤其是在国界线问题上，网上很多能找到的矢量文件可能来自于国外，自然在中国国界线上会有出入，甚至不乏一些公开发表的论文上也使用了错误的国界线。</p>
<p>由于行政边界存在动态变化，尤其是在基层行政单元上，镇的区划调整会比较常见。另外也存在一些特殊的行政单元，如神农架林区、中山市等。</p>
<blockquote>
<p>中山市的行政区划是市、镇两级建制，是全国五个不设县（区、县级市）级编制之地级市之一（另外四个为广东省东莞市、甘肃省嘉峪关市、海南省三沙市和儋州市）  –wikipedia</p>
</blockquote>
<p>在县这个级别上并不能做到空间全覆盖。另外API 介绍页面上也明确指出：在区县级别，有28个区县不能返回中心点，在乡镇/街道界别，有9262个乡镇/街道不能返回中心点。</p>
<h3 id="获取过程"><a href="#获取过程" class="headerlink" title="获取过程"></a>获取过程</h3><p>为了使省、市、县各级的边界图整理结果都能做到空间全覆盖，如果某行政单元没有子单元，那么在下一级的边界图上就仍用该级边界来代替。如在区县边界图上，中山市的位置上用的是市一级的中山市边界。<br>另外，从 API 获取到边界坐标要进行一次纠偏，来与标准的 WGS 1984 坐标系匹配。</p>
<h3 id="整理结果"><a href="#整理结果" class="headerlink" title="整理结果"></a>整理结果</h3><p>以下是整理好的省、市、县边界图， WGS_1984_Web_Mercator_Auxiliary_Sphere 投影。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/amap-district-to-shapefile/districts-of-china.jpg" alt="中国行政区边界" title="">
                </div>
                <div class="image-caption">中国行政区边界</div>
            </figure>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>下载链接：<br><a href="http://xdc.at/d/?d=amapChina" target="_blank" rel="external">高德国界shp文件（20171101）</a><br><a href="http://xdc.at/d/?d=amapProvinces" target="_blank" rel="external">高德省界shp文件（20171101）</a><br>使用以上shp文件的研究成果（论文等）请注明引用来源，引用格式参考：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">谢栋灿. 高德行政区边界获取与整理（shp格式）[EB/OL]. [2017.11.05]. http://i.xdc.at/2017/11/05/amap-district-to-shapefile/.</div></pre></td></tr></table></figure></p>
<p>如需更详细数据（市、县边界面，市、县、街镇点），可发邮件至 <code>i@xdc.at</code> 与我联系。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;高德地图提供了 &lt;a href=&quot;http://lbs.amap.com/api/webservice/guide/api/district&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;行政区域查询 API&lt;/a&gt; 来获取区县及以上行政区域的矢量边界，以
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="行政区" scheme="https://i.xdc.at/tags/%E8%A1%8C%E6%94%BF%E5%8C%BA/"/>
    
      <category term="shapefile" scheme="https://i.xdc.at/tags/shapefile/"/>
    
  </entry>
  
  <entry>
    <title>在ArcMap中添加在线地图图层（无需插件）</title>
    <link href="https://i.xdc.at/2017/10/28/add-google-map-to-arcmap/"/>
    <id>https://i.xdc.at/2017/10/28/add-google-map-to-arcmap/</id>
    <published>2017-10-28T12:40:00.000Z</published>
    <updated>2017-11-29T15:34:49.592Z</updated>
    
    <content type="html"><![CDATA[<p>考虑到在线地图瓦片大部分用的是同样的切片规则（国内部分地图除外），而 WMTS 又是瓦片地图服务的开放协议，因此明明可以用 WMTS 解决 ArcMap 显示在线地图瓦片的问题，为什么偏偏还要各种插件呢？<br>然而事实是，并不是每家地图都直接提供 WMTS 服务。但既然都是开放的协议，就自己动手搭建一个吧。我搭建的 WMTS 服务器如下：<br><strong>服务URL：</strong><code>点击网页下方打赏按钮，扫码关注远见公众号，回复 WMTS 获取</code></p>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><ol>
<li>打开ArcMap，在<code>目录</code>窗口中，找到<code>GIS 服务器</code>并双击展开，然后双击<code>添加 WMTS 服务器</code>；</li>
<li>在弹出的窗口中，<code>URL(U):</code>一栏输入服务URL，获取方法见上。然后点击<code>获取图层</code>，即出现支持的图层列表。目前支持OpenStreetMap、Google地图与卫星图、高德地图、天地图街道地图与影像图、ESRI卫星影像等，还将继续更新；</li>
<li>点击<code>确定</code>，可以发现<code>GIS 服务器</code>下多了一项<code>WMTS Collection by xdc，在 *** 上</code>。双击展开<code>WMTS Collection by xdc，在 *** 上</code>，即为支持的各个地图图层，选中任意一个，鼠标拖拽到<code>内容列表</code>或地图窗口即可加载显示。</li>
<li>如要查看最新支持的图层列表，可鼠标右击<code>WMTS Collection by xdc，在 *** 上</code>，选择<code>刷新</code>即可。</li>
</ol>
<p>至此，在 ArcMap 中添加在线地图图层已完成。</p>
<h3 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h3><p>经过测试， ArcMap 会同时打开8个连接来向服务器请求瓦片内容，因此只要网速不是太慢，加载速度还是很快的。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/add-google-map-to-arcmap/google-satellite-in-arcgis.jpg" alt="ArcMap内添加Google卫星图层" title="">
                </div>
                <div class="image-caption">ArcMap内添加Google卫星图层</div>
            </figure>
<h3 id="TIPS"><a href="#TIPS" class="headerlink" title="TIPS"></a>TIPS</h3><p>注1：高德（amap）地图采用GCJ02加偏，与其他标准地图之间存在偏差。由于 Google 街道地图的中国部分数据源来自国内，因此也存在偏移。但卫星图是无偏的。<br>注2：由于众所周知的原因，使用Google地图和卫星图时，你需要自行解决如何成功连接 Google 服务器的问题。<br>注3：无法使用Google卫星图的情况下，可以使用天地图卫星图和ESRI世界影像图。不过天地图上可能会有比较多被云层遮挡的情况。ESRI的影像图清晰度还是非常高的。</p>
<p>欢迎交流~ （E-mail: <code>i@xdc.at</code>）</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;考虑到在线地图瓦片大部分用的是同样的切片规则（国内部分地图除外），而 WMTS 又是瓦片地图服务的开放协议，因此明明可以用 WMTS 解决 ArcMap 显示在线地图瓦片的问题，为什么偏偏还要各种插件呢？&lt;br&gt;然而事实是，并不是每家地图都直接提供 WMTS 服务。但既然都
    
    </summary>
    
    
      <category term="ArcMap" scheme="https://i.xdc.at/tags/ArcMap/"/>
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="切片图层" scheme="https://i.xdc.at/tags/%E5%88%87%E7%89%87%E5%9B%BE%E5%B1%82/"/>
    
      <category term="Google" scheme="https://i.xdc.at/tags/Google/"/>
    
  </entry>
  
  <entry>
    <title>高德建筑3D轮廓获取尝试</title>
    <link href="https://i.xdc.at/2017/10/03/get-3d-buildings-from-amap/"/>
    <id>https://i.xdc.at/2017/10/03/get-3d-buildings-from-amap/</id>
    <published>2017-10-03T04:46:00.000Z</published>
    <updated>2017-11-26T13:52:55.290Z</updated>
    
    <content type="html"><![CDATA[<p>高德开放过获取建筑轮廓的接口，可以获取指定瓦片内的建筑物轮廓（像素坐标形式）以及相应层数。 通过构造爬虫，批量获取一定范围内的建筑物轮廓信息，再经过坐标转换和纠偏，即可得到矢量的建筑物3D轮廓数据，可以在 ArcMap、ArcScene 内显示，也可以导出到 Google Earth 等软件查看。</p>
<a id="more"></a>
<h3 id="数据效果"><a href="#数据效果" class="headerlink" title="数据效果"></a>数据效果</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/get-3d-buildings-from-amap/amap-buildings-in-arcmap.jpg" alt="ArcMap内平面显示" title="">
                </div>
                <div class="image-caption">ArcMap内平面显示</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/get-3d-buildings-from-amap/amap-buildings-in-arcscene.jpg" alt="ArcScene内三维显示" title="">
                </div>
                <div class="image-caption">ArcScene内三维显示</div>
            </figure>
<p>欢迎交流~ （E-mail: <code>i@xdc.at</code>）</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;高德开放过获取建筑轮廓的接口，可以获取指定瓦片内的建筑物轮廓（像素坐标形式）以及相应层数。 通过构造爬虫，批量获取一定范围内的建筑物轮廓信息，再经过坐标转换和纠偏，即可得到矢量的建筑物3D轮廓数据，可以在 ArcMap、ArcScene 内显示，也可以导出到 Google Earth 等软件查看。&lt;/p&gt;
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="建筑轮廓" scheme="https://i.xdc.at/tags/%E5%BB%BA%E7%AD%91%E8%BD%AE%E5%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>【软件更新】基于高德 API 的交通等时线划分工具 v1.5.0</title>
    <link href="https://i.xdc.at/2017/08/16/transportation-contourline-tbx-1.5/"/>
    <id>https://i.xdc.at/2017/08/16/transportation-contourline-tbx-1.5/</id>
    <published>2017-08-16T13:56:00.000Z</published>
    <updated>2017-08-16T15:02:57.581Z</updated>
    
    <content type="html"><![CDATA[<p>软件初始版本介绍见 <a href="/2016/10/30/transportation-contour-line-tbx/">基于高德 API 的交通等时线划分工具</a>（xdc交通等时线工具箱）。</p>
<hr>
<h3 id="此版本主要特性"><a href="#此版本主要特性" class="headerlink" title="此版本主要特性"></a>此版本主要特性</h3><p><strong> 1. 生成等时线范围可设置为时间范围或空间范围 </strong><br>除了可以设置时间范围（分钟）来作为生成等时线的范围外，还可以输入一个面作为采样点的空间四至边界（与输入时间范围方式二选一）。<br>输入的面必须为 GCS_WGS_1984 坐标系，可通过创建一个新的shapefile或将现有其他坐标系的面转换投影等方法获得。<br>输入的中心点可以在输入的边界面外。</p>
<p><strong> 2. 支持多线程获取数据 </strong><br>多线程并发获取采样点交通时间数据，网络环境较好状况下每秒可完成数十次请求。</p>
<p><strong> 3. 交通方式加入骑行 </strong><br>现支持获取驾车、步行、公交、骑行四种交通方式的等时线。</p>
<p><strong> 4. 自动选择合适的投影坐标系 </strong><br>如果投影坐标系一项输入留空，则会自动选择条带最接近的UTM坐标系。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx-1.5/window.png" alt="v1.5.0版输入界面" title="">
                </div>
                <div class="image-caption">v1.5.0版输入界面</div>
            </figure>
<p><strong> 如果帮助栏未显示，请点击窗口下方的“显示帮助”按钮打开右侧帮助栏，以便在点击各项输入框时查看对应的帮助信息 </strong></p>
<h3 id="更新历史"><a href="#更新历史" class="headerlink" title="更新历史"></a>更新历史</h3><p>v1.3.1 支持自定义采样空间边界<br>v1.3.3 更新公交方式数据接口<br>v1.4.1 测试加入多线程支持<br>v1.5.0 添加骑行交通方式支持；支持自动选择最接近的投影坐标系</p>
<hr>
<p>下载地址仍在 <a href="/2016/10/30/transportation-contour-line-tbx/#下载">原软件介绍页面</a>。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;软件初始版本介绍见 &lt;a href=&quot;/2016/10/30/transportation-contour-line-tbx/&quot;&gt;基于高德 API 的交通等时线划分工具&lt;/a&gt;（xdc交通等时线工具箱）。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;此版本主要特性&quot;&gt;&lt;a href=
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
      <category term="交通等时线" scheme="https://i.xdc.at/tags/%E4%BA%A4%E9%80%9A%E7%AD%89%E6%97%B6%E7%BA%BF/"/>
    
      <category term="骑行" scheme="https://i.xdc.at/tags/%E9%AA%91%E8%A1%8C/"/>
    
  </entry>
  
  <entry>
    <title>给右键菜单添加“在此处打开 Anaconda 命令行”</title>
    <link href="https://i.xdc.at/2017/08/13/add-anaconda-prompt-to-context-menu-of-explorer/"/>
    <id>https://i.xdc.at/2017/08/13/add-anaconda-prompt-to-context-menu-of-explorer/</id>
    <published>2017-08-13T03:26:08.000Z</published>
    <updated>2017-11-26T08:31:29.861Z</updated>
    
    <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>出于种种需要，系统内可能安装了多了python运行环境，如：</p>
<ol>
<li>python.org 上下载的 Python 2.7 32bit（用于使用某些只支持32位的第三方库）</li>
<li>ArcGIS 所用的 Python 2.7 32bit（以及 Python 2.7 64bit，如果安装了64位后台地理处理）</li>
<li>Anaconda with Python 2 和/或 Anaconda with Python 3</li>
<li>WinPython 等其他 Python 发行版</li>
</ol>
<p>而默认情况下，即使系统变量<code>PATH</code>内填写了多了<code>python.exe</code>所在的路径，cmd内执行<code>python</code>的时候也只会执行所找到的第一个。另外，为了避免与ArcGIS冲突、影响ArcGIS内Python环境的使用，在安装Anaconda的时候取消勾选 <code>Add Anaconda to my PATH environment varialbe</code> 和 <code>Register Anaconda as my default Python 2.7</code>。这样的话，运行Anaconda命令行就只能从开始菜单打开相应的快捷方式了，而不能直接在文件夹内Shift+鼠标右键，打开命令行即用了。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/add-anaconda-prompt-to-context-menu-of-explorer/anaconda_install.png" alt="Anaconda" title="">
                </div>
                <div class="image-caption">Anaconda</div>
            </figure>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>通过添加相应的注册表项，可以在右键菜单内添加一项“在此处打开 Anaconda 命令行”<code>Anaconda2 Prompt Here</code>。<br>具体步骤如下（假设Anaconda安装在 <code>D:\Anaconda2\</code> ）：<br>1. 在注册表 <code>HKEY_CLASSES_ROOT\Directory\Background\shell\</code> 下新建一项 <code>Anaconda2</code>，默认值为 <code>Anaconda2 Prompt Here</code> (此值为菜单项显示名称，可以自行修改)。在<code>Anaconda2</code>下新建字符串值<code>Icon</code>，数据为<code>D:\Anaconda2\Menu\Iconleak-Atrous-Console.ico</code>。<br>如果想要在同时按下Shift和鼠标右键才出现菜单项，而不是直接鼠标右键就出现，就在<code>Anaconda2</code>下新建字符串值<code>Extended</code>，数据留空。<br>2. 在<code>Anaconda2</code>下新建一项<code>command</code>，默认值填入<code>cmd.exe /s /k &quot;title Anaconda2&quot; &amp;&amp; D:\Anaconda2\Scripts\activate.bat D:\Anaconda2</code>。</p>
<p>除了手动打开regedit.exe注册表编辑器执行以上操作的方法外，也可以将以下代码用记事本保存到<code>.reg</code>后缀的文件中，然后双击打开reg文件即可自动导入相应注册表内容。注意根据Anaconda的实际安装路径进行修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Windows Registry Editor Version 5.00</div><div class="line"></div><div class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\Anaconda2]</div><div class="line">@=&quot;Anaconda2 Prompt Here&quot;</div><div class="line">&quot;Icon&quot;=&quot;D:\\Anaconda2\\Menu\\Iconleak-Atrous-Console.ico&quot;</div><div class="line"></div><div class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\Anaconda2\command]</div><div class="line">@=&quot;cmd.exe /s /k \&quot;title Anaconda2\&quot; &amp;&amp; D:\\Anaconda2\\Scripts\\activate.bat D:\\Anaconda2&quot;</div></pre></td></tr></table></figure>
<h3 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h3><p>在任意文件夹内空白处点击鼠标右键，效果如下：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/add-anaconda-prompt-to-context-menu-of-explorer/context-menu.png" alt="文件夹右键菜单" title="">
                </div>
                <div class="image-caption">文件夹右键菜单</div>
            </figure>
<p>点击<code>Anaconda2 Prompt Here</code>后，在打开的窗口内执行<code>python</code>，打开的就是Anaconda的python解释器了。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/add-anaconda-prompt-to-context-menu-of-explorer/anaconda-prompt-windows.png" alt="Anaconda命令提示行窗口" title="">
                </div>
                <div class="image-caption">Anaconda命令提示行窗口</div>
            </figure></p>
<p>而如果此时在文件夹右键菜单内打开系统的命令行并执行<code>python</code>，则打开的是在系统变量<code>PATH</code>内所指定的python解释器，与新添加的Anaconda命令行两者独立。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h3&gt;&lt;p&gt;出于种种需要，系统内可能安装了多了python运行环境，如：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;python.org 上下载的 Py
    
    </summary>
    
    
      <category term="注册表" scheme="https://i.xdc.at/tags/%E6%B3%A8%E5%86%8C%E8%A1%A8/"/>
    
      <category term="Anaconda" scheme="https://i.xdc.at/tags/Anaconda/"/>
    
      <category term="Python" scheme="https://i.xdc.at/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>【软件工具】地址批量定位工具</title>
    <link href="https://i.xdc.at/2017/08/06/bulk-address-locator/"/>
    <id>https://i.xdc.at/2017/08/06/bulk-address-locator/</id>
    <published>2017-08-06T15:07:00.000Z</published>
    <updated>2017-08-16T15:02:40.696Z</updated>
    
    <content type="html"><![CDATA[<h3 id="软件介绍"><a href="#软件介绍" class="headerlink" title="软件介绍"></a>软件介绍</h3><p>该工具利用高德的地理编码接口，将输入的地址转换为经纬度坐标，并可生成shp文件。<br>v1.1.0测试版支持多线程，可显著提高数据获取速度。<br>该工具以 ArcGIS 工具箱的形式提供，使用方法可参考 <a href="/2016/10/31/tbx-in-ArcGIS/">在 ArcGIS 内使用 tbx 工具箱</a> 。</p>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><h4 id="输入界面"><a href="#输入界面" class="headerlink" title="输入界面"></a>输入界面</h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images\bulk-address-locator/setting-window.png" alt="输入界面" title="">
                </div>
                <div class="image-caption">输入界面</div>
            </figure>
<p><strong> 如果帮助栏未显示，请点击窗口下方的“显示帮助”按钮打开右侧帮助栏，以便在点击各项输入框时查看对应的帮助信息 </strong></p>
<h4 id="输入字段说明"><a href="#输入字段说明" class="headerlink" title="输入字段说明"></a>输入字段说明</h4><p>1. 输入txt文件的位置</p>
<blockquote>
<p>输入文件应为一个txt文档，每行一个地址，不必包含表头。txt文档的编码为gb2312,gbk,utf-8均可。<br>输入地名可以是地点名（如上海市人民广场），也可以是包含路名的地址（如上海市四平路1239号）。</p>
</blockquote>
<p>2. 位置点所在城市（如：上海市，如果txt内地址已包含城市名该项可留空） (可选)</p>
<blockquote>
<p>如果txt文档内的地址不包含城市名称，请在此处输入城市名称。</p>
</blockquote>
<p>3. 输出使用高德坐标系，而不是WGS84坐标系？</p>
<blockquote>
<p>如果需要和带偏移的高德地图进行匹配，请将该选项设置为Yes。否则将默认纠偏为WGS84坐标系。</p>
</blockquote>
<p>4. 输出txt文件位置（与输出shp文件至少二选一） (可选)</p>
<blockquote>
<p>将结果输出为txt文档。</p>
</blockquote>
<p>5. 输出shp文件位置（与输出txt文件至少二选一） (可选)</p>
<blockquote>
<p>将结果输出为shapefile。</p>
</blockquote>
<p>6. 激活码 (可选)</p>
<blockquote>
<p>未激活版本每次最多输出10个点。<br>获得授权后第一次使用工具需填写激活码，当运行后看到“激活码写入文件成功”的提示，以后使用就无需填写。请妥善保存您的激活码。<br>城市数据派会员获取激活码请联系数据派管理员。 非数据派会员请发邮件至 i@xdc.at </p>
</blockquote>
<h4 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h4><p>输出结果包含以下字段：<br><code>input_name</code> 输入地址名，<code>lng</code>经度，<code>lat</code>纬度（默认纠偏为标准的WGS 1984坐标），<code>address</code>格式化的地址字符串，<code>province</code>省份，<code>city</code>城市名，<code>district</code>区县名。<br>如果输入的某行是不存在的地址，则txt内仍会按顺序输出一行（字段值为0或空），以方便与原输入表对齐。但shp文件内只会输出能够定位的点。</p>
<h3 id="获取激活码"><a href="#获取激活码" class="headerlink" title="获取激活码"></a>获取激活码</h3><p>软件试用运行时会在运行信息中显示本机的机器码，城市数据派会员获取激活码请联系数据派管理员。<br>非数据派会员请将机器码发送至邮箱 i@xdc.at 以获取激活码。</p>
<h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p><a href="http://xdc.at/d/?d=addr1.1.0" target="_blank" rel="external">xdc地址批量定位v1.1.0.tbx（测试版）</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;软件介绍&quot;&gt;&lt;a href=&quot;#软件介绍&quot; class=&quot;headerlink&quot; title=&quot;软件介绍&quot;&gt;&lt;/a&gt;软件介绍&lt;/h3&gt;&lt;p&gt;该工具利用高德的地理编码接口，将输入的地址转换为经纬度坐标，并可生成shp文件。&lt;br&gt;v1.1.0测试版支持多线程，可显著
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="地理编码" scheme="https://i.xdc.at/tags/%E5%9C%B0%E7%90%86%E7%BC%96%E7%A0%81/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
  </entry>
  
  <entry>
    <title>利用mapbox进行地图在线可视化</title>
    <link href="https://i.xdc.at/2017/08/05/map-by-mapbox/"/>
    <id>https://i.xdc.at/2017/08/05/map-by-mapbox/</id>
    <published>2017-08-05T12:48:00.000Z</published>
    <updated>2017-08-11T15:02:18.128Z</updated>
    
    <content type="html"><![CDATA[<p>mapbox提供了可对地图样式进行自定义编辑，并且可以上传自己的地理数据作为叠加图层。</p>
<p>此处为几个测试成果：</p>
<h3 id="全国公交线路"><a href="#全国公交线路" class="headerlink" title="全国公交线路"></a>全国公交线路</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/map-by-mapbox/busline.png" alt="全国公交线路在线可视化" title="">
                </div>
                <div class="image-caption">全国公交线路在线可视化</div>
            </figure>
<p><a href="http://xdc.at/map/busline.html" target="_blank" rel="external">全国公交线路在线可视化 点此查看</a></p>
<h3 id="全国县至上海路线"><a href="#全国县至上海路线" class="headerlink" title="全国县至上海路线"></a>全国县至上海路线</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/map-by-mapbox/routes2shanghai.png" alt="全国县至上海路线可视化" title="">
                </div>
                <div class="image-caption">全国县至上海路线可视化</div>
            </figure>
<p><a href="http://xdc.at/map/routes2shanghai.html" target="_blank" rel="external">全国县至上海路线在线可视化 点此查看</a></p>
<p>如有其它成果，将更新在以下页面：<br><a href="http://xdc.at/map/" target="_blank" rel="external">地图在线可视化 | 谢栋灿</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;mapbox提供了可对地图样式进行自定义编辑，并且可以上传自己的地理数据作为叠加图层。&lt;/p&gt;
&lt;p&gt;此处为几个测试成果：&lt;/p&gt;
&lt;h3 id=&quot;全国公交线路&quot;&gt;&lt;a href=&quot;#全国公交线路&quot; class=&quot;headerlink&quot; title=&quot;全国公交线路&quot;&gt;&lt;/a
    
    </summary>
    
      <category term="数据分析" scheme="https://i.xdc.at/categories/data-analysis/"/>
    
    
      <category term="mapbox" scheme="https://i.xdc.at/tags/mapbox/"/>
    
  </entry>
  
  <entry>
    <title>【软件工具】高德导航路径与时耗获取工具</title>
    <link href="https://i.xdc.at/2017/07/29/amap-routes-tool/"/>
    <id>https://i.xdc.at/2017/07/29/amap-routes-tool/</id>
    <published>2017-07-29T12:32:33.000Z</published>
    <updated>2017-08-17T13:08:15.847Z</updated>
    
    <content type="html"><![CDATA[<h3 id="软件介绍"><a href="#软件介绍" class="headerlink" title="软件介绍"></a>软件介绍</h3><p>该工具利用高德地图的路线规划API获取OD点之间的交通导航线路与时耗，并输出csv表格和shapefile。<br>v1.1.0版本支持多线程，可显著提高数据获取速度。<br>该工具以 ArcGIS 工具箱的形式提供，使用方法可参考 <a href="/2016/10/31/tbx-in-ArcGIS/">在 ArcGIS 内使用 tbx 工具箱</a> 。</p>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><h4 id="输入界面"><a href="#输入界面" class="headerlink" title="输入界面"></a>输入界面</h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/amap-routes-tool/setting-windows.png" alt="输入界面" title="">
                </div>
                <div class="image-caption">输入界面</div>
            </figure>
<p><strong> 如果帮助栏未显示，请点击窗口下方的“显示帮助”按钮打开右侧帮助栏，以便在点击各项输入框时查看对应的帮助信息 </strong></p>
<h4 id="输入字段说明"><a href="#输入字段说明" class="headerlink" title="输入字段说明"></a>输入字段说明</h4><p>1. 输入交通OD的csv或txt表</p>
<blockquote>
<p>输入的表格应如以下结构：<br><code>ItemID,O_lng,O_lat,D_lng,D_lat</code><br>其中ItemID为该条OD的唯一标识ID，数字或字母均可<em>（同一表格内不要混用数字标识和字母标识，以免ArcGIS在识别字段类型时出错）</em>，可用于输出结果表与输入表的关联。<br>O_lng,O_lat,D_lng,D_lat分别为起点的经度、维度以及终点的经度、纬度。<br>输入的csv表可用Excel另存为csv文件得到。<br>输入表是否包含表头均可。</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/amap-routes-tool/input.png" alt="输入表格示例" title="">
                </div>
                <div class="image-caption">输入表格示例</div>
            </figure>
<p>2. 交通方式</p>
<blockquote>
<p>可选择三种交通方式：<br>drive：驾车<br>bus；公共交通<br>walk：步行<br>bike：骑行（v1.2.0版本开始支持）</p>
</blockquote>
<p>3. 使用带偏移的高德坐标系，而不是标准的WGS84坐标系？</p>
<blockquote>
<p>如果输入的坐标是带偏移的高德坐标（GCJ-02），请将该选项设置为Yes。否则将默认为无偏的WGS84坐标系。</p>
</blockquote>
<p>4. 是否仅输出多条推荐线路中的第一条</p>
<blockquote>
<p>输出属性表中包含out_order字段，为推荐线路的序号。<br>如果该项设置为Yes，则仅输出推荐线路的第一条，即out_order=1的记录。</p>
</blockquote>
<p>5. 输出csv表位置</p>
<blockquote>
<p>选择输出结果csv表格的位置。</p>
</blockquote>
<p>6. 输出交通线路Shapefile位置 (可选)</p>
<blockquote>
<p>选择输出交通线路shapefile文件的位置。</p>
</blockquote>
<p>7. 激活码（试用可留空） (可选)</p>
<blockquote>
<p>软件试用运行时会在运行信息中显示本机的机器码，请将机器码发送至邮箱 i@xdc.at 以获取激活码。<br>未激活版本每次最多输出10条结果。<br>获得授权后第一次使用工具需填写激活码，当运行后看到“激活码写入文件成功”的提示，以后使用就无需填写。请妥善保存您的激活码。</p>
</blockquote>
<h4 id="输出结果示例"><a href="#输出结果示例" class="headerlink" title="输出结果示例"></a>输出结果示例</h4><p><strong>输出表格如下：</strong><br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/amap-routes-tool/output-csv.png" alt="输出表格" title="">
                </div>
                <div class="image-caption">输出表格</div>
            </figure><br>其中，FID2与输出shp文件（如有）的FID相匹配。<br>如果选择了不只输出多条推荐线路中的第一条，则同一ItemID可能会有多条输出结果，以out_order排序。<br>输出 distance 和 duration 的单位分别为<strong>米</strong>和<strong>秒</strong>。</p>
<p><strong>输出shapefile如下：</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/amap-routes-tool/output-shp.jpg" alt="输出shapefile" title="">
                </div>
                <div class="image-caption">输出shapefile</div>
            </figure>
<h3 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h3><p>从全国县级政府所在地至上海市人民广场的路线汇总<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/amap-routes-tool/routes2shanghai.png" alt="全国县至上海路线" title="">
                </div>
                <div class="image-caption">全国县至上海路线</div>
            </figure></p>
<p>路线细节可查看 <a href="http://xdc.at/map/routes2shanghai.html" target="_blank" rel="external">全国县至上海路线在线可视化</a></p>
<h3 id="获取激活码"><a href="#获取激活码" class="headerlink" title="获取激活码"></a>获取激活码</h3><p>软件试用运行时会在运行信息中显示本机的机器码，请将机器码发送至邮箱 i@xdc.at 以获取激活码。</p>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><p>1. 路径获取到一定条数后报错</p>
<blockquote>
<p>ArcMap是32位程序，而32位程序在Windows下可使用的内存是受限的，因此当获取到的路径折点总数达到一定量，导致arcmap.exe占用内存过大时，就会运行出错。根据OD点间距离的情况，单次可获取的路径线路条数在几千到几万不等。<br>如果不需要路径线路，可把输出shapefile留空，即可避免线路折点数据挤占内存导致运行出错。<br>如果确需要输出shapefile，则建议将输入表格拆分，一次输入适当行数的表格。（考虑到shapefile文件本身容量与性能也有限，建议单次运行控制数量）</p>
</blockquote>
<h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p><a href="http://xdc.at/d/?d=route1.1.0" target="_blank" rel="external">xdc交通线路与时耗抓取v1.1.0.tbx</a><br><a href="http://xdc.at/d/?d=route1.2.0" target="_blank" rel="external">xdc交通线路与时耗抓取v1.2.0.tbx（加入骑行方式）</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;软件介绍&quot;&gt;&lt;a href=&quot;#软件介绍&quot; class=&quot;headerlink&quot; title=&quot;软件介绍&quot;&gt;&lt;/a&gt;软件介绍&lt;/h3&gt;&lt;p&gt;该工具利用高德地图的路线规划API获取OD点之间的交通导航线路与时耗，并输出csv表格和shapefile。&lt;br&gt;v1.1
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
      <category term="路径规划" scheme="https://i.xdc.at/tags/%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>【数据分析】沙县小吃与兰州拉面之争</title>
    <link href="https://i.xdc.at/2017/06/27/shaxian-vs-lanzhou/"/>
    <id>https://i.xdc.at/2017/06/27/shaxian-vs-lanzhou/</id>
    <published>2017-06-27T03:53:00.000Z</published>
    <updated>2017-08-06T05:52:06.209Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.zhihu.com/question/20349372/answer/189819493" target="_blank" rel="external">兰州拉面和沙县小吃，哪个是中国最火的餐饮？ - 知乎</a><br><a href="https://www.zhihu.com/question/46653861/answer/189820105" target="_blank" rel="external">为什么兰州拉面旁边必定有一家沙县小吃？ - 知乎</a><br>以下分析主要是对上面两个知乎问题的回答，所使用的数据来自 <a href="/2017/06/23/poi-data-update-201706/">全国POI数据2017年6月更新</a>。</p>
<h3 id="沙县小吃与兰州拉面火热程度对比"><a href="#沙县小吃与兰州拉面火热程度对比" class="headerlink" title="沙县小吃与兰州拉面火热程度对比"></a>沙县小吃与兰州拉面火热程度对比</h3><p>以当前2017年上半年的情况来看，还是沙县小吃更胜一筹。</p>
<p>通过在全国POI数据中进行检索，名字符合<code>*沙县*小吃*</code>、 <code>*兰州*拉面*</code>/<code>*兰州*牛肉面*</code>的餐饮类店铺分别有5.73万、5.15万。而以上两家的竞争者黄焖鸡米饭以<code>*黄焖鸡*米饭*</code>检索共有4.32万。</p>
<p>但以上三者都比不上麻辣烫，<code>*麻辣烫*</code>的检索结果达到了11.08万之多。</p>
<p>以下是四类店铺在全国的分布情况（点击查看大图效果更佳）。</p>
<p>1. 沙县小吃：<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-f8085c1c9ac00c5b5116319e5a2220c9" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-f8085c1c9ac00c5b5116319e5a2220c9_b.png" alt="点击查看大图"></a></p>
<p>2. 兰州拉面/兰州牛肉面<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-33c6411b9c248c3555e59d13381a465f" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-33c6411b9c248c3555e59d13381a465f_b.png" alt="点击查看大图"></a></p>
<p>3. 黄焖鸡米饭<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-1272cfe071483d18b6b36b0d1f5a7f81" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-1272cfe071483d18b6b36b0d1f5a7f81_b.png" alt="点击查看大图"></a></p>
<p>4. 麻辣烫<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-6fa0276661d74ffa8fd45a9ed3331809" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-6fa0276661d74ffa8fd45a9ed3331809_b.png" alt="点击查看大图"></a></p>
<p>对比来看，前三者中虽然沙县小吃数量最多，但在分布上不够广泛，并没有普及到乡镇级别。对比之下，兰州拉面/兰州牛肉面、黄焖鸡米饭则做到了从大城市到小乡镇的普及，从图中看，冀豫鲁徽苏一带分布密密麻麻。其中，兰州拉面/牛肉面的分布重心比黄焖鸡米饭略偏南。</p>
<p>而麻辣烫的分布不必言则更为广泛，尤其是东北一带终于在图上亮起来了。</p>
<h3 id="沙县小吃与兰州拉面相邻关系分析"><a href="#沙县小吃与兰州拉面相邻关系分析" class="headerlink" title="沙县小吃与兰州拉面相邻关系分析"></a>沙县小吃与兰州拉面相邻关系分析</h3><p>兰州拉面旁边一定会有沙县小吃吗？这里我用全国POI数据来验证一下。</p>
<p>通过检索，兰州拉面店铺在全国共有4.56万家，沙县小吃店铺共有5.73万家。</p>
<p>以下是两者在全国的分布图（点击放大查看效果更佳）。</p>
<p>1. 兰州拉面<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-f1cdefc3dbfb7ccb361d22e6a69b51f6" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-f1cdefc3dbfb7ccb361d22e6a69b51f6_b.png" alt="点击查看大图"></a></p>
<p>2. 沙县小吃<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-7e142bf3d0d4a6055592243fb7e27407" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-7e142bf3d0d4a6055592243fb7e27407_b.png" alt="点击查看大图"></a></p>
<p>可以看到，沙县小吃虽然数量上更多，但却没有兰州拉面那种从一线城市到小乡镇的普及性，尤其是在冀鲁豫一带差异非常明显。</p>
<p>下面对两者之间的临近情况进行分析，分别计算每家店铺离自己最近的对家的距离。结果显示，3.23万家兰州拉面附近1000m内有沙县小吃，占比约70.7%。4.90万家沙县小吃附近1000m内有兰州拉面，占比约85.4%。</p>
<p>以下是附近1000m内有对家的店铺分布图（点击放大查看效果更佳）。其中兰州拉面为绿色点，沙县小吃为红色点，两者叠加显示则为黄色，下同。<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-7dfabd15581717ef1bb43ce05f64a955" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-7dfabd15581717ef1bb43ce05f64a955_b.png" alt="点击查看大图"></a></p>
<p>只有以上地区才有兰州拉面旁边有沙县小吃，沙县小吃旁边有兰州拉面的现象出现，从分布上看已经覆盖全国很大范围了（距离取1000m其实挺大的了）。但是仍有约15%的沙县小吃旁没有兰州拉面，以及约30%的兰州拉面旁边没有沙县小吃。</p>
<p>以下是孤立（附近1000m内无对家）的店铺分布图（点击放大查看效果更佳）。</p>
<p>1. 孤立的兰州拉面<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-f75f1c7934d68e737027864d738bcf8e" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-f75f1c7934d68e737027864d738bcf8e_b.png" alt="点击查看大图"></a></p>
<p>2. 孤立的沙县小吃<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-9f3b0ad59004e691e31c7515fdac106b" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-9f3b0ad59004e691e31c7515fdac106b_b.png" alt="点击查看大图"></a></p>
<p>3. 孤立的兰州拉面与孤立的沙县小吃叠加<br><a href="http://zhihu-pics.oss-cn-beijing.aliyuncs.com//v2-cc63d0190f92a616df8ebf07b6f0f92f" target="_blank"><img src="/assets/images/shaxian-vs-lanzhou/v2-cc63d0190f92a616df8ebf07b6f0f92f_b.png" alt="点击查看大图"></a></p>
<p>从图上来看，有大量孤立的兰州拉面存在于冀鲁豫的基层乡镇，而沙县小吃的基层普及程度则差了不少，这也是兰州拉面孤立比例更高的原因之一。另外，两者的分布存在明显的南北差异。四川、湖北、河南、山东及以北地区以兰州拉面的孤立分布为主，而重庆、湖南、江西、浙江及以南则以沙县小吃的孤立分布为主。安徽、江苏则存在着省内的南北差异。</p>
<p>最后来个粗略的总结：</p>
<p>首先，题目中提到的“兰州拉面旁边有沙县小吃”在较多地方还是成立的。</p>
<p>至于两者相邻的原因很简单，因为两者都有很高的普及性，并且价格较为相近，存在一定的竞争关系，产生集聚现象很正常。</p>
<p>孤立分布上，一方面兰州拉面做到了更加基层更加广泛的普及，而沙县小吃则欠缺一些。另外，南北方饮食差异，导致两者在不同地区的受欢迎程度不一样，必然会导致有其中一家而没有另外一家的情况。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/20349372/answer/189819493&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;兰州拉面和沙县小吃，哪个是中国最火的餐饮？ - 知乎&lt;/a&gt;&lt;br&gt;&lt;a hr
    
    </summary>
    
      <category term="数据分析" scheme="https://i.xdc.at/categories/data-analysis/"/>
    
    
      <category term="POI" scheme="https://i.xdc.at/tags/POI/"/>
    
      <category term="数据分析" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>全国POI数据2017年6月更新</title>
    <link href="https://i.xdc.at/2017/06/23/poi-data-update-201706/"/>
    <id>https://i.xdc.at/2017/06/23/poi-data-update-201706/</id>
    <published>2017-06-23T02:14:00.000Z</published>
    <updated>2017-08-13T23:44:20.353Z</updated>
    
    <content type="html"><![CDATA[<h3 id="主要更新内容"><a href="#主要更新内容" class="headerlink" title="主要更新内容"></a>主要更新内容</h3><p>本次 POI 数据在 <a href="/2017/02/21/poi-data-update-201702/">2017年2月</a> 的基础上，主要更新内容如下：</p>
<ol>
<li>新增条目 690万+条</li>
<li>删除自2017年2月到现在没再出现的条目 385万+条</li>
<li>详情信息更新 共945万+条，其中<ul>
<li>名称更新 135万+条</li>
<li>坐标更新 385万+条</li>
<li>地址字段更新 430万+条</li>
<li>类型信息更新 120万+条</li>
</ul>
</li>
</ol>
<p>经过此次更新，整理后 POI 数据条目总数达到了 6180万+ 。</p>
<h3 id="各省份-与-TOP-30-城市的-POI-数量"><a href="#各省份-与-TOP-30-城市的-POI-数量" class="headerlink" title="各省份 与 TOP 30 城市的 POI 数量"></a>各省份 与 TOP 30 城市的 POI 数量</h3><table>
<thead>
<tr>
<th style="text-align:center">省份</th>
<th style="text-align:center">数量</th>
<th></th>
<th style="text-align:center">城市</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">广东省</td>
<td style="text-align:center">690万+</td>
<td></td>
<td style="text-align:center">上海市</td>
<td style="text-align:center">195万+</td>
</tr>
<tr>
<td style="text-align:center">江苏省</td>
<td style="text-align:center">515万+</td>
<td></td>
<td style="text-align:center">北京市</td>
<td style="text-align:center">170万+</td>
</tr>
<tr>
<td style="text-align:center">浙江省</td>
<td style="text-align:center">435万+</td>
<td></td>
<td style="text-align:center">广州市</td>
<td style="text-align:center">135万+</td>
</tr>
<tr>
<td style="text-align:center">山东省</td>
<td style="text-align:center">420万+</td>
<td></td>
<td style="text-align:center">成都市</td>
<td style="text-align:center">125万+</td>
</tr>
<tr>
<td style="text-align:center">河南省</td>
<td style="text-align:center">335万+</td>
<td></td>
<td style="text-align:center">深圳市</td>
<td style="text-align:center">120万+</td>
</tr>
<tr>
<td style="text-align:center">四川省</td>
<td style="text-align:center">320万+</td>
<td></td>
<td style="text-align:center">重庆市</td>
<td style="text-align:center">115万+</td>
</tr>
<tr>
<td style="text-align:center">河北省</td>
<td style="text-align:center">260万+</td>
<td></td>
<td style="text-align:center">苏州市</td>
<td style="text-align:center">105万+</td>
</tr>
<tr>
<td style="text-align:center">湖北省</td>
<td style="text-align:center">230万+</td>
<td></td>
<td style="text-align:center">杭州市</td>
<td style="text-align:center">95万+</td>
</tr>
<tr>
<td style="text-align:center">湖南省</td>
<td style="text-align:center">220万+</td>
<td></td>
<td style="text-align:center">东莞市</td>
<td style="text-align:center">90万+</td>
</tr>
<tr>
<td style="text-align:center">安徽省</td>
<td style="text-align:center">210万+</td>
<td></td>
<td style="text-align:center">武汉市</td>
<td style="text-align:center">80万+</td>
</tr>
<tr>
<td style="text-align:center">上海市</td>
<td style="text-align:center">195万+</td>
<td></td>
<td style="text-align:center">天津市</td>
<td style="text-align:center">75万+</td>
</tr>
<tr>
<td style="text-align:center">辽宁省</td>
<td style="text-align:center">195万+</td>
<td></td>
<td style="text-align:center">佛山市</td>
<td style="text-align:center">65万+</td>
</tr>
<tr>
<td style="text-align:center">福建省</td>
<td style="text-align:center">190万+</td>
<td></td>
<td style="text-align:center">宁波市</td>
<td style="text-align:center">65万+</td>
</tr>
<tr>
<td style="text-align:center">北京市</td>
<td style="text-align:center">170万+</td>
<td></td>
<td style="text-align:center">西安市</td>
<td style="text-align:center">65万+</td>
</tr>
<tr>
<td style="text-align:center">广西壮族自治区</td>
<td style="text-align:center">165万+</td>
<td></td>
<td style="text-align:center">青岛市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">陕西省</td>
<td style="text-align:center">160万+</td>
<td></td>
<td style="text-align:center">郑州市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">江西省</td>
<td style="text-align:center">155万+</td>
<td></td>
<td style="text-align:center">南京市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">云南省</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">无锡市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">山西省</td>
<td style="text-align:center">130万+</td>
<td></td>
<td style="text-align:center">长沙市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">黑龙江省</td>
<td style="text-align:center">125万+</td>
<td></td>
<td style="text-align:center">温州市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">重庆市</td>
<td style="text-align:center">115万+</td>
<td></td>
<td style="text-align:center">沈阳市</td>
<td style="text-align:center">50万+</td>
</tr>
<tr>
<td style="text-align:center">内蒙古自治区</td>
<td style="text-align:center">105万+</td>
<td></td>
<td style="text-align:center">昆明市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">贵州省</td>
<td style="text-align:center">100万+</td>
<td></td>
<td style="text-align:center">石家庄市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">吉林省</td>
<td style="text-align:center">100万+</td>
<td></td>
<td style="text-align:center">金华市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">甘肃省</td>
<td style="text-align:center">80万+</td>
<td></td>
<td style="text-align:center">合肥市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">天津市</td>
<td style="text-align:center">75万+</td>
<td></td>
<td style="text-align:center">哈尔滨市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">新疆维吾尔自治区</td>
<td style="text-align:center">70万+</td>
<td></td>
<td style="text-align:center">泉州市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">台湾省</td>
<td style="text-align:center">50万+</td>
<td></td>
<td style="text-align:center">常州市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">宁夏回族自治区</td>
<td style="text-align:center">35万+</td>
<td></td>
<td style="text-align:center">济南市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">海南省</td>
<td style="text-align:center">30万+</td>
<td></td>
<td style="text-align:center">大连市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">香港特别行政区</td>
<td style="text-align:center">30万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">青海省</td>
<td style="text-align:center">20万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">西藏自治区</td>
<td style="text-align:center">15万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">澳门特别行政区</td>
<td style="text-align:center">5万以下</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h3 id="数据字段信息"><a href="#数据字段信息" class="headerlink" title="数据字段信息"></a>数据字段信息</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-data-info.jpg" alt="数据字段信息" title="">
                </div>
                <div class="image-caption">数据字段信息</div>
            </figure>
<h3 id="样例下载"><a href="#样例下载" class="headerlink" title="样例下载"></a>样例下载</h3><p><a href="/assets/downloads/poi-data-update-201706/" target="_blank">点此下载样例文件(shp格式)</a></p>
<p>如需了解更多，可发邮件至 <i class="icon icon-lg icon-envelope" onclick="window.open('mailto:i@xdc.at');" style="cursor:pointer"></i><code>i@xdc.at</code> 与我联系。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;主要更新内容&quot;&gt;&lt;a href=&quot;#主要更新内容&quot; class=&quot;headerlink&quot; title=&quot;主要更新内容&quot;&gt;&lt;/a&gt;主要更新内容&lt;/h3&gt;&lt;p&gt;本次 POI 数据在 &lt;a href=&quot;/2017/02/21/poi-data-update-201702
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="数据介绍" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D/"/>
    
      <category term="POI" scheme="https://i.xdc.at/tags/POI/"/>
    
  </entry>
  
  <entry>
    <title>【软件更新】基于高德 API 的交通等时线划分工具 v1.3.1</title>
    <link href="https://i.xdc.at/2017/05/19/transportation-contourline-tbx-1.3.1/"/>
    <id>https://i.xdc.at/2017/05/19/transportation-contourline-tbx-1.3.1/</id>
    <published>2017-05-19T05:54:00.000Z</published>
    <updated>2017-08-05T14:37:52.122Z</updated>
    
    <content type="html"><![CDATA[<p>软件介绍见 <a href="/2016/10/30/transportation-contour-line-tbx/">基于高德 API 的交通等时线划分工具</a> 。</p>
<hr>
<p>本测试版主要增加功能为可以输入一个面作为采样点的空间四至边界（与输入时间范围方式二选一）。<br>输入的面必须为 GCS_WGS_1984 坐标系，可通过创建一个新的shapefile等方法获得。<br>输入的中心点不一定要在输入的边界面内。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx-1.3.1/interface.png" alt="新版输入界面" title="">
                </div>
                <div class="image-caption">新版输入界面</div>
            </figure>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p>v1.3.1 支持自定义采样空间边界<br>v1.3.3 更新公交方式数据接口<br>v1.4.1 测试加入多线程支持</p>
<hr>
<p>下载地址仍在 <a href="/2016/10/30/transportation-contour-line-tbx/#下载">原软件介绍页面</a>。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;软件介绍见 &lt;a href=&quot;/2016/10/30/transportation-contour-line-tbx/&quot;&gt;基于高德 API 的交通等时线划分工具&lt;/a&gt; 。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;本测试版主要增加功能为可以输入一个面作为采样点的空间四至边界（与输入时间范围
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
      <category term="交通等时线" scheme="https://i.xdc.at/tags/%E4%BA%A4%E9%80%9A%E7%AD%89%E6%97%B6%E7%BA%BF/"/>
    
  </entry>
  
  <entry>
    <title>AOI（兴趣区）数据获取尝试</title>
    <link href="https://i.xdc.at/2017/04/19/aoi-data/"/>
    <id>https://i.xdc.at/2017/04/19/aoi-data/</id>
    <published>2017-04-19T12:04:25.000Z</published>
    <updated>2017-04-19T13:12:31.565Z</updated>
    
    <content type="html"><![CDATA[<p>AOI（Area of Interest），区别于POI（Point of Interest），一般指小区、公园等的边界信息。 <a href="http://ditu.amap.com/place/B00155K8FL" target="_blank" rel="external">高德地图</a> 中，尤其是在一线城市，点击小区名称，就可显示小区边界。<br>通过构造爬虫，即可获取一定范围内的AOI数据。以下是部分区域的抓取结果。一般中心城区的完整性较好，而郊区数据缺失较多。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/aoi-data/aoi-data-yangpu.png" alt="杨浦区局部" title="">
                </div>
                <div class="image-caption">杨浦区局部</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/aoi-data/aoi-data-shanghai.png" alt="上海外环线内" title="">
                </div>
                <div class="image-caption">上海外环线内</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/aoi-data/aoi-data-beijing.png" alt="北京六环内" title="">
                </div>
                <div class="image-caption">北京六环内</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/aoi-data/aoi-data-guangzhou.png" alt="广州局部" title="">
                </div>
                <div class="image-caption">广州局部</div>
            </figure>
<p>欢迎交流~  （E-mail: <code>i@xdc.at</code>）</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;AOI（Area of Interest），区别于POI（Point of Interest），一般指小区、公园等的边界信息。 &lt;a href=&quot;http://ditu.amap.com/place/B00155K8FL&quot; target=&quot;_blank&quot; rel=&quot;exte
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="数据介绍" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D/"/>
    
      <category term="AOI" scheme="https://i.xdc.at/tags/AOI/"/>
    
  </entry>
  
  <entry>
    <title>【软件工具】天地图POI下载工具</title>
    <link href="https://i.xdc.at/2017/03/02/tianditu-poi-tbx/"/>
    <id>https://i.xdc.at/2017/03/02/tianditu-poi-tbx/</id>
    <published>2017-03-02T08:14:12.000Z</published>
    <updated>2017-08-16T14:50:27.333Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>该工具最早发布于远见网站 <a href="http://farsightj.cn/blog/?p=185" target="_blank" rel="external">http://farsightj.cn/blog/?p=185</a><br>此版本为与<a href="http://www.udparty.com/" target="_blank" rel="external">城市数据派</a>的合作版本。</p>
</blockquote>
<h3 id="软件介绍"><a href="#软件介绍" class="headerlink" title="软件介绍"></a>软件介绍</h3><p>该软件工具通过天地图的数据接口，可按地级市级别下载天地图POI数据，支持自定义搜索关键词。<br>由于天地图POI数据在量上较少，因此下载效率比较高。<br>该工具以 ArcGIS 工具箱的形式提供，使用方法可参考 <a href="/2016/10/31/tbx-in-ArcGIS/">在 ArcGIS 内使用 tbx 工具箱</a> 。</p>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><p>输入字段说明：</p>
<ol>
<li><p>城市名称（地级市名称）：</p>
<blockquote>
<p>如果输入的名称与标准行政区名不一致，运行时会有提示，请根据提示进一步修改。</p>
</blockquote>
</li>
<li><p>输出txt文件位置 (可选)：</p>
<blockquote>
<p>请选择输出txt文件的位置。根据ArcGIS版本的不同，可能需要手动输入.txt后缀名。</p>
</blockquote>
</li>
<li><p>输出shp文件位置 (可选)：</p>
<blockquote>
<p>请选择输出文件的位置。输出文件为shapefile，请不要放在地理数据库内。<br>txt输出与shp输出至少二选一。</p>
</blockquote>
</li>
<li><p>激活码(可选)：</p>
<blockquote>
<p>详见 <a href="#获取激活码">获取激活码</a></p>
</blockquote>
</li>
<li><p>自定义搜索关键词(可选)：</p>
<blockquote>
<p>支持自定义搜索关键词，多个关键词之间请使用逗号（全角半角均可）分隔，输入的空格将被忽略。<br>留空则使用默认关键词。</p>
</blockquote>
</li>
</ol>
<h3 id="获取激活码"><a href="#获取激活码" class="headerlink" title="获取激活码"></a>获取激活码</h3><p>未输入激活码时可进行试用，试用过程中运行窗口会显示您的机器码。ArcGIS默认情况下运行窗口较小，您可能需要手动拉大窗口尺寸才能看到全部输出信息。<br>该软件是与 <a href="http://www.udparty.com/" target="_blank" rel="external">城市数据派</a> 的合作版本，城市数据派会员可联系数据派管理员获取激活码。非数据派会员可发邮件至<code>i@xdc.at</code>与我联系。<br>激活码只需输入一次，后续使用无需再次输入。</p>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><p>1. 如果遇到输出文件错误，请尝试使用纯字母的文件名。<br>2. 如果连续多次使用均无法正常得到结果，则可能是数据接口变更，请发邮件至<code>i@xdc.at</code>与我联系。</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a href="http://xdc.at/d/?d=tdt1.0.4" target="_blank">天地图POI下载v1.0.4.tbx</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;该工具最早发布于远见网站 &lt;a href=&quot;http://farsightj.cn/blog/?p=185&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://farsightj.cn/blog/?p=185&lt;/a&gt;&lt;br
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
      <category term="POI" scheme="https://i.xdc.at/tags/POI/"/>
    
      <category term="天地图" scheme="https://i.xdc.at/tags/%E5%A4%A9%E5%9C%B0%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>全国POI数据2017年2月更新</title>
    <link href="https://i.xdc.at/2017/02/21/poi-data-update-201702/"/>
    <id>https://i.xdc.at/2017/02/21/poi-data-update-201702/</id>
    <published>2017-02-21T04:08:55.000Z</published>
    <updated>2017-08-13T23:44:09.198Z</updated>
    
    <content type="html"><![CDATA[<h3 id="主要更新内容"><a href="#主要更新内容" class="headerlink" title="主要更新内容"></a>主要更新内容</h3><p>本次 POI 数据在 <a href="/2016/11/20/poi-data-update-201611/">2016年11月</a> 的基础上，主要更新内容如下：</p>
<ol>
<li>新增条目 620w条</li>
<li>删除自2016年11月到现在没再出现的条目 380w条</li>
<li>详情信息更新 共1100w+ 条，其中<ul>
<li>名称更新 140w条</li>
<li>坐标更新 410w条</li>
<li>地址字段更新 660w条</li>
<li>类型信息更新 120w条</li>
</ul>
</li>
</ol>
<p>经过此次更新，整理后 POI 数据条目总数达到了 5800w+ 。</p>
<h3 id="更新内容示例"><a href="#更新内容示例" class="headerlink" title="更新内容示例"></a>更新内容示例</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data-update-201702/add.png" alt="新增的条目" title="">
                </div>
                <div class="image-caption">新增的条目</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data-update-201702/delete.png" alt="删除的条目" title="">
                </div>
                <div class="image-caption">删除的条目</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data-update-201702/name_change.png" alt="名称更新" title="">
                </div>
                <div class="image-caption">名称更新</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data-update-201702/type_change.png" alt="类型信息更新" title="">
                </div>
                <div class="image-caption">类型信息更新</div>
            </figure>
<h3 id="各省份-与-TOP-30-城市的-POI-数量"><a href="#各省份-与-TOP-30-城市的-POI-数量" class="headerlink" title="各省份 与 TOP 30 城市的 POI 数量"></a>各省份 与 TOP 30 城市的 POI 数量</h3><table>
<thead>
<tr>
<th style="text-align:center">省份</th>
<th style="text-align:center">数量</th>
<th></th>
<th style="text-align:center">城市</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">广东省</td>
<td style="text-align:center">650万+</td>
<td></td>
<td style="text-align:center">上海市</td>
<td style="text-align:center">180万+</td>
</tr>
<tr>
<td style="text-align:center">江苏省</td>
<td style="text-align:center">485万+</td>
<td></td>
<td style="text-align:center">北京市</td>
<td style="text-align:center">150万+</td>
</tr>
<tr>
<td style="text-align:center">浙江省</td>
<td style="text-align:center">405万+</td>
<td></td>
<td style="text-align:center">广州市</td>
<td style="text-align:center">125万+</td>
</tr>
<tr>
<td style="text-align:center">山东省</td>
<td style="text-align:center">400万+</td>
<td></td>
<td style="text-align:center">成都市</td>
<td style="text-align:center">120万+</td>
</tr>
<tr>
<td style="text-align:center">河南省</td>
<td style="text-align:center">315万+</td>
<td></td>
<td style="text-align:center">重庆市</td>
<td style="text-align:center">110万+</td>
</tr>
<tr>
<td style="text-align:center">四川省</td>
<td style="text-align:center">310万+</td>
<td></td>
<td style="text-align:center">深圳市</td>
<td style="text-align:center">110万+</td>
</tr>
<tr>
<td style="text-align:center">河北省</td>
<td style="text-align:center">245万+</td>
<td></td>
<td style="text-align:center">苏州市</td>
<td style="text-align:center">95万+</td>
</tr>
<tr>
<td style="text-align:center">湖北省</td>
<td style="text-align:center">220万+</td>
<td></td>
<td style="text-align:center">杭州市</td>
<td style="text-align:center">85万+</td>
</tr>
<tr>
<td style="text-align:center">湖南省</td>
<td style="text-align:center">210万+</td>
<td></td>
<td style="text-align:center">东莞市</td>
<td style="text-align:center">85万+</td>
</tr>
<tr>
<td style="text-align:center">安徽省</td>
<td style="text-align:center">200万+</td>
<td></td>
<td style="text-align:center">武汉市</td>
<td style="text-align:center">75万+</td>
</tr>
<tr>
<td style="text-align:center">辽宁省</td>
<td style="text-align:center">185万+</td>
<td></td>
<td style="text-align:center">天津市</td>
<td style="text-align:center">70万+</td>
</tr>
<tr>
<td style="text-align:center">上海市</td>
<td style="text-align:center">180万+</td>
<td></td>
<td style="text-align:center">佛山市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">福建省</td>
<td style="text-align:center">180万+</td>
<td></td>
<td style="text-align:center">西安市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">广西壮族自治区</td>
<td style="text-align:center">155万+</td>
<td></td>
<td style="text-align:center">宁波市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">北京市</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">青岛市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">陕西省</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">南京市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">江西省</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">无锡市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">云南省</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">长沙市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">山西省</td>
<td style="text-align:center">125万+</td>
<td></td>
<td style="text-align:center">郑州市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">黑龙江省</td>
<td style="text-align:center">120万+</td>
<td></td>
<td style="text-align:center">温州市</td>
<td style="text-align:center">50万+</td>
</tr>
<tr>
<td style="text-align:center">重庆市</td>
<td style="text-align:center">110万+</td>
<td></td>
<td style="text-align:center">沈阳市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">内蒙古自治区</td>
<td style="text-align:center">105万+</td>
<td></td>
<td style="text-align:center">昆明市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">贵州省</td>
<td style="text-align:center">100万+</td>
<td></td>
<td style="text-align:center">石家庄市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">吉林省</td>
<td style="text-align:center">95万+</td>
<td></td>
<td style="text-align:center">金华市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">甘肃省</td>
<td style="text-align:center">75万+</td>
<td></td>
<td style="text-align:center">合肥市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">天津市</td>
<td style="text-align:center">70万+</td>
<td></td>
<td style="text-align:center">哈尔滨市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">新疆维吾尔自治区</td>
<td style="text-align:center">70万+</td>
<td></td>
<td style="text-align:center">常州市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">宁夏回族自治区</td>
<td style="text-align:center">30万+</td>
<td></td>
<td style="text-align:center">泉州市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">海南省</td>
<td style="text-align:center">30万+</td>
<td></td>
<td style="text-align:center">济南市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">香港特别行政区</td>
<td style="text-align:center">25万+</td>
<td></td>
<td style="text-align:center">南宁市</td>
<td style="text-align:center">35万+</td>
</tr>
<tr>
<td style="text-align:center">青海省</td>
<td style="text-align:center">20万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">西藏自治区</td>
<td style="text-align:center">20万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">澳门特别行政区</td>
<td style="text-align:center">5万以下</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">台湾省</td>
<td style="text-align:center">5万以下</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h3 id="数据字段信息"><a href="#数据字段信息" class="headerlink" title="数据字段信息"></a>数据字段信息</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-data-info.jpg" alt="数据字段信息" title="">
                </div>
                <div class="image-caption">数据字段信息</div>
            </figure>
<h3 id="样例下载"><a href="#样例下载" class="headerlink" title="样例下载"></a>样例下载</h3><p><a href="/assets/downloads/poi-data-update-201702/" target="_blank">点此下载样例文件(shp格式)</a></p>
<p>如需了解更多，可发邮件至 <i class="icon icon-lg icon-envelope" onclick="window.open('mailto:i@xdc.at');" style="cursor:pointer"></i><code>i@xdc.at</code> 与我联系。</p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p><a href="/2017/06/23/poi-data-update-201706/">全国POI数据2017年6月更新</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;主要更新内容&quot;&gt;&lt;a href=&quot;#主要更新内容&quot; class=&quot;headerlink&quot; title=&quot;主要更新内容&quot;&gt;&lt;/a&gt;主要更新内容&lt;/h3&gt;&lt;p&gt;本次 POI 数据在 &lt;a href=&quot;/2016/11/20/poi-data-update-201611
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="数据介绍" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D/"/>
    
      <category term="POI" scheme="https://i.xdc.at/tags/POI/"/>
    
  </entry>
  
  <entry>
    <title>全国POI数据2016年11月更新</title>
    <link href="https://i.xdc.at/2016/11/20/poi-data-update-201611/"/>
    <id>https://i.xdc.at/2016/11/20/poi-data-update-201611/</id>
    <published>2016-11-20T14:46:40.000Z</published>
    <updated>2017-08-13T23:43:15.590Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2016/10/06/poi-data/">上篇对 POI 数据的介绍</a> 中提到，高德的 API 接口返回的并非是完整的 POI 数据，而是存在一定的缺失。</p>
<p>因此为了补漏，距上次抓取两个月后，再次对全国的 POI 数据进行了全范围抓取。统计后发现，补漏与更新的效果还是比较明显的。</p>
<p>数量上，从上次的 4500w+ 扩充到了 5600w+，这个数量已经超过了网络上有人所称的5000w 。并且，对超过 1000w 的数据进行了内容更新，更新包括名称的更改、位置的微调、分类的调整、地址的修改等。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data-update-201611/change-of-location-and-name.png" alt="名称更改与位置微调" title="">
                </div>
                <div class="image-caption">名称更改与位置微调</div>
            </figure></p>
<h3 id="各省份-与-TOP-30-城市的-POI-数量"><a href="#各省份-与-TOP-30-城市的-POI-数量" class="headerlink" title="各省份 与 TOP 30 城市的 POI 数量"></a>各省份 与 TOP 30 城市的 POI 数量</h3><table>
<thead>
<tr>
<th style="text-align:center">省份</th>
<th style="text-align:center">数量</th>
<th></th>
<th style="text-align:center">城市</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">广东省</td>
<td style="text-align:center">620万+</td>
<td></td>
<td style="text-align:center">上海市</td>
<td style="text-align:center">180万+</td>
</tr>
<tr>
<td style="text-align:center">江苏省</td>
<td style="text-align:center">475万+</td>
<td></td>
<td style="text-align:center">北京市</td>
<td style="text-align:center">150万+</td>
</tr>
<tr>
<td style="text-align:center">浙江省</td>
<td style="text-align:center">385万+</td>
<td></td>
<td style="text-align:center">广州市</td>
<td style="text-align:center">120万+</td>
</tr>
<tr>
<td style="text-align:center">山东省</td>
<td style="text-align:center">380万+</td>
<td></td>
<td style="text-align:center">成都市</td>
<td style="text-align:center">115万+</td>
</tr>
<tr>
<td style="text-align:center">四川省</td>
<td style="text-align:center">305万+</td>
<td></td>
<td style="text-align:center">深圳市</td>
<td style="text-align:center">110万+</td>
</tr>
<tr>
<td style="text-align:center">河南省</td>
<td style="text-align:center">300万+</td>
<td></td>
<td style="text-align:center">重庆市</td>
<td style="text-align:center">105万+</td>
</tr>
<tr>
<td style="text-align:center">河北省</td>
<td style="text-align:center">235万+</td>
<td></td>
<td style="text-align:center">苏州市</td>
<td style="text-align:center">100万+</td>
</tr>
<tr>
<td style="text-align:center">湖北省</td>
<td style="text-align:center">210万+</td>
<td></td>
<td style="text-align:center">杭州市</td>
<td style="text-align:center">85万+</td>
</tr>
<tr>
<td style="text-align:center">湖南省</td>
<td style="text-align:center">205万+</td>
<td></td>
<td style="text-align:center">东莞市</td>
<td style="text-align:center">75万+</td>
</tr>
<tr>
<td style="text-align:center">安徽省</td>
<td style="text-align:center">190万+</td>
<td></td>
<td style="text-align:center">武汉市</td>
<td style="text-align:center">70万+</td>
</tr>
<tr>
<td style="text-align:center">辽宁省</td>
<td style="text-align:center">180万+</td>
<td></td>
<td style="text-align:center">天津市</td>
<td style="text-align:center">70万+</td>
</tr>
<tr>
<td style="text-align:center">上海市</td>
<td style="text-align:center">180万+</td>
<td></td>
<td style="text-align:center">佛山市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">福建省</td>
<td style="text-align:center">170万+</td>
<td></td>
<td style="text-align:center">西安市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">广西壮族自治区</td>
<td style="text-align:center">155万+</td>
<td></td>
<td style="text-align:center">宁波市</td>
<td style="text-align:center">60万+</td>
</tr>
<tr>
<td style="text-align:center">北京市</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">南京市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">陕西省</td>
<td style="text-align:center">150万+</td>
<td></td>
<td style="text-align:center">郑州市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">江西省</td>
<td style="text-align:center">140万+</td>
<td></td>
<td style="text-align:center">无锡市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">云南省</td>
<td style="text-align:center">140万+</td>
<td></td>
<td style="text-align:center">青岛市</td>
<td style="text-align:center">55万+</td>
</tr>
<tr>
<td style="text-align:center">山西省</td>
<td style="text-align:center">120万+</td>
<td></td>
<td style="text-align:center">长沙市</td>
<td style="text-align:center">50万+</td>
</tr>
<tr>
<td style="text-align:center">黑龙江省</td>
<td style="text-align:center">115万+</td>
<td></td>
<td style="text-align:center">温州市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">重庆市</td>
<td style="text-align:center">105万+</td>
<td></td>
<td style="text-align:center">沈阳市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">内蒙古自治区</td>
<td style="text-align:center">100万+</td>
<td></td>
<td style="text-align:center">石家庄市</td>
<td style="text-align:center">45万+</td>
</tr>
<tr>
<td style="text-align:center">贵州省</td>
<td style="text-align:center">95万+</td>
<td></td>
<td style="text-align:center">金华市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">吉林省</td>
<td style="text-align:center">95万+</td>
<td></td>
<td style="text-align:center">昆明市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">甘肃省</td>
<td style="text-align:center">75万+</td>
<td></td>
<td style="text-align:center">哈尔滨市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">天津市</td>
<td style="text-align:center">70万+</td>
<td></td>
<td style="text-align:center">合肥市</td>
<td style="text-align:center">40万+</td>
</tr>
<tr>
<td style="text-align:center">新疆维吾尔自治区</td>
<td style="text-align:center">70万+</td>
<td></td>
<td style="text-align:center">常州市</td>
<td style="text-align:center">35万+</td>
</tr>
<tr>
<td style="text-align:center">宁夏回族自治区</td>
<td style="text-align:center">30万+</td>
<td></td>
<td style="text-align:center">南宁市</td>
<td style="text-align:center">35万+</td>
</tr>
<tr>
<td style="text-align:center">海南省</td>
<td style="text-align:center">30万+</td>
<td></td>
<td style="text-align:center">济南市</td>
<td style="text-align:center">35万+</td>
</tr>
<tr>
<td style="text-align:center">香港特别行政区</td>
<td style="text-align:center">25万+</td>
<td></td>
<td style="text-align:center">泉州市</td>
<td style="text-align:center">35万+</td>
</tr>
<tr>
<td style="text-align:center">青海省</td>
<td style="text-align:center">20万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">西藏自治区</td>
<td style="text-align:center">20万+</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">澳门特别行政区</td>
<td style="text-align:center">5万以下</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">台湾省</td>
<td style="text-align:center">5万以下</td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h3 id="数据字段信息"><a href="#数据字段信息" class="headerlink" title="数据字段信息"></a>数据字段信息</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-data-info.jpg" alt="数据字段信息" title="">
                </div>
                <div class="image-caption">数据字段信息</div>
            </figure>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p><a href="/2017/02/21/poi-data-update-201702/">全国POI数据2017年2月更新</a><br><a href="/2017/06/23/poi-data-update-201706/">全国POI数据2017年6月更新</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2016/10/06/poi-data/&quot;&gt;上篇对 POI 数据的介绍&lt;/a&gt; 中提到，高德的 API 接口返回的并非是完整的 POI 数据，而是存在一定的缺失。&lt;/p&gt;
&lt;p&gt;因此为了补漏，距上次抓取两个月后，再次对全国的 POI 数据进行了全范围抓取
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="数据介绍" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D/"/>
    
      <category term="POI" scheme="https://i.xdc.at/tags/POI/"/>
    
  </entry>
  
  <entry>
    <title>利用SSH的端口转发实现内网穿透</title>
    <link href="https://i.xdc.at/2016/11/15/port-forward-by-ssh/"/>
    <id>https://i.xdc.at/2016/11/15/port-forward-by-ssh/</id>
    <published>2016-11-15T15:08:52.000Z</published>
    <updated>2017-03-03T08:17:04.648Z</updated>
    
    <content type="html"><![CDATA[<h3 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h3><p>在一个内网内有两台设备：路由器 A 和 B 。</p>
<p>路由器 A 有固定 IP，不受我控制。但在路由器 A 下的一台 Windows 主机 A1 上有一个账户（无权限在 A1 上添加更多新用户）。 A1 的远程桌面端口 3389 在由 A 的管理员在 A 上做了端口映射，因此我可以通过远程桌面协议去访问 A1 。A1 上运行有 SQL Server 。</p>
<p>路由器 B 是一台基于 Linux 的路由器，没有固定 IP ，但受我控制。 B 下有多台 Windows 主机 B1, B2, B3, B4…</p>
<h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>目前的状况下，B 下同时最多有一台机器连接到 A1 的远程桌面，使用 A1 的数据库服务。<br>希望可以实现 B 下的多台设备（或 B1 上的多个用户 ）同时使用 A1 的数据库服务。<br>B1 上使用 RDPWrap 破解了 Windows 专业版远程桌面同时连接用户数的限制，因此可以多用户同时使用 B1。</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>B1 上安装 SQL Server Management Studio 作为前端，连接到 A1 上的 SQL Server 服务后端（TCP 1433 端口）。但因为 A1 在路由器的后面，因此必须进行<strong>内网穿透</strong>才能从 B1 连接到 A1 的 1433 端口。</p>
<p>对于两个均是在内网里面的设备互相连接，一种方法是借助于公网的服务，如 Teamviewer 的 VPN 功能，可以将两台内网里的设备组件在一个虚拟子网内。但测试发现连接速度十分不理想。</p>
<p>由于路由器 B 受我控制，且是 Linux 的系统，因此就可以拿来灵活利用，这里就需要使用到路由器 B 的 SSH 服务。</p>
<ol>
<li>首先 A1 和 B1 都通过 SSH 客户端连接到 B。因为 B 没有固定 IP，所以最好使用一个第三方的 DDNS 服务。SSH 客户端我使用的是 Bitvise，这里有一个<a href="/assets/images/port-forward-by-ssh/BitviseSSHClientPortable_6.04_Rev_3.0.paf.exe">便携版本</a>。</li>
<li>在 B1 上的 Bitvise 里，添加 C2S 转发，监听 1111（自己修改，避免和本机已有的 1433 端口重复）端口，目标端口为 B 内部的 1433 端口。</li>
<li>在 A1 上的 Bitvise 里，添加 S2C 转发，监听 B 的 1433 的端口，目标为 A1 的 1433 端口。</li>
<li>此时，B1 上发向 1111 端口的请求，就会被转发到 B 的 1433 端口，再转发到 A1 的1433 端口。</li>
<li>在 B1 的 SQL Server Management Studio 内，连接数据库引擎的服务器名称填写<code>127.0.0.1,1111</code>，选择<code>SQL Server 身份验证</code>，填写 A1 上 SQL Server 服务的登录名密码即可连接。</li>
</ol>
<p>实现以上过程还需要一些前提条件，如 A1 上 SQL Server 服务允许 TCP连接、路由器 B 上的 ssh 服务接受端口转发请求。</p>
<p>顺利的话，通过以上步骤，B1 上的多个用户就可以同时打开 SQL Server Management Studio 连接到 A1 的数据库上去了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;现状&quot;&gt;&lt;a href=&quot;#现状&quot; class=&quot;headerlink&quot; title=&quot;现状&quot;&gt;&lt;/a&gt;现状&lt;/h3&gt;&lt;p&gt;在一个内网内有两台设备：路由器 A 和 B 。&lt;/p&gt;
&lt;p&gt;路由器 A 有固定 IP，不受我控制。但在路由器 A 下的一台 Windows
    
    </summary>
    
    
      <category term="SQL Server" scheme="https://i.xdc.at/tags/SQL-Server/"/>
    
      <category term="SSH" scheme="https://i.xdc.at/tags/SSH/"/>
    
      <category term="Linux" scheme="https://i.xdc.at/tags/Linux/"/>
    
      <category term="内网穿透" scheme="https://i.xdc.at/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"/>
    
      <category term="端口转发" scheme="https://i.xdc.at/tags/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>在 ArcGIS 内使用 tbx 工具箱</title>
    <link href="https://i.xdc.at/2016/10/31/tbx-in-ArcGIS/"/>
    <id>https://i.xdc.at/2016/10/31/tbx-in-ArcGIS/</id>
    <published>2016-10-31T05:59:33.000Z</published>
    <updated>2017-03-03T08:17:05.304Z</updated>
    
    <content type="html"><![CDATA[<p>tbx 文件是 ArcGIS 的工具箱文件（如下图），因此首先需要安装有 ArcGIS 软件。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/tbx-in-ArcGIS/tbx-icon.png" alt="tbx文件" title="">
                </div>
                <div class="image-caption">tbx文件</div>
            </figure></p>
<p>tbx 文件在 ArcGIS 内打开一般有两种方法：</p>
<h4 id="1-直接在目录窗口打开"><a href="#1-直接在目录窗口打开" class="headerlink" title="1. 直接在目录窗口打开"></a>1. 直接在目录窗口打开</h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/tbx-in-ArcGIS/open-tbx.png" alt="打开tbx文件" title="">
                </div>
                <div class="image-caption">打开tbx文件</div>
            </figure>
<p>在 ArcMap 软件的目录(Catalog) 窗口定位到该文件，并双击打开。必要时可能需要先添加文件夹连接。</p>
<h4 id="2-添加到已有工具箱列表"><a href="#2-添加到已有工具箱列表" class="headerlink" title="2. 添加到已有工具箱列表"></a>2. 添加到已有工具箱列表</h4><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/tbx-in-ArcGIS/add-tbx.png" alt="添加tbx文件" title="">
                </div>
                <div class="image-caption">添加tbx文件</div>
            </figure>
<p>在 ArcMap 软件的工具箱(ArcToolbox) 窗口，对窗口内的 <code>ArcToolbox</code>右键单击，再 <code>添加工具箱...</code> ，找到 tbx 文件并选中，点 <code>打开</code> ，该工具箱即被添加到默认的工具箱列表内，下次使用不必再到原文件夹内去寻找。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;tbx 文件是 ArcGIS 的工具箱文件（如下图），因此首先需要安装有 ArcGIS 软件。&lt;br&gt;&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;
             
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
  </entry>
  
  <entry>
    <title>基于高德 API 的交通等时线划分工具</title>
    <link href="https://i.xdc.at/2016/10/30/transportation-contour-line-tbx/"/>
    <id>https://i.xdc.at/2016/10/30/transportation-contour-line-tbx/</id>
    <published>2016-10-30T05:59:00.000Z</published>
    <updated>2018-01-01T06:20:40.576Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>该软件最早于 2016-04-06 发布在城市数据派网站<br><a href="http://www.udparty.com/topic/1758.html" target="_blank" rel="external">xdc交通等时线工具箱</a></p>
</blockquote>
<h3 id="软件介绍"><a href="#软件介绍" class="headerlink" title="软件介绍"></a>软件介绍</h3><p>该软件借助高德路径规划的 API 来获取点到点之间的交通时耗数据，然后在 ArcGIS 内生成等时线。<br>该工具的优势在于不必事先获取研究所用的路网并进行烦累的数据预处理。并且借助于高德地图的服务，路网等的质量会比自己做路网数据更好。<br>支持驾车、公共交通、步行三种交通方式。驾车方式可以考虑高架出入口等，公共交通方式包括步行到车站以及下车后步行到目的地的时间。交通时耗数据根据实时路况会有所变动，因此不同时间运行得到的结果会有所不同。<br>该工具以 ArcGIS 工具箱的形式提供，使用方法可参考 <a href="/2016/10/31/tbx-in-ArcGIS/">在 ArcGIS 内使用 tbx 工具箱</a> 。<br><strong>更新：</strong> <a href="/2017/08/16/transportation-contourline-tbx-1.5/">v1.5.0版本</a>开始加入骑行方式支持。</p>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><p>参考 <a href="/2016/10/31/tbx-in-ArcGIS/">在 ArcGIS 内使用 tbx 工具箱</a> 打开工具箱后，可看到如下界面。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/main-window.png" alt="主窗口" title="">
                </div>
                <div class="image-caption">主窗口</div>
            </figure><br>点击窗口下方的“显示帮助”(Show Help&gt;&gt;)按钮（上图），<strong>在点击每一输入项时可以显示详细介绍</strong>（下图）。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/help-window.png" alt="帮助窗口" title="">
                </div>
                <div class="image-caption">帮助窗口</div>
            </figure><br>各项输入的介绍<strong>请参考软件内的帮助信息</strong>。<br>填入需要的输入项后点击确定开始运行。</p>
<p>运行截图：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/running-1.png" alt="运行截图1" title="">
                </div>
                <div class="image-caption">运行截图1</div>
            </figure></p>
<blockquote>
<p>上图是未输入激活码时的运行情况，关于激活码参见 <a href="#获取激活码">获取激活码</a></p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/running-2.png" alt="运行截图2" title="">
                </div>
                <div class="image-caption">运行截图2</div>
            </figure>
<p>运行结果：<br>执行结果图： 驾车30分钟等时线（ArcMap添加的新图层默认为黑白配色，下图为加了底图和调节过图层显示颜色后的效果图）<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/result.png" alt="运行结果" title="">
                </div>
                <div class="image-caption">运行结果</div>
            </figure></p>
<blockquote>
<p><del>PS：如果需要网络地图作为底图，这里有一个免费的ArcGIS插件 <a href="https://github.com/xiaoqqchen/PcArcBruTile" target="_blank" rel="external">https://github.com/xiaoqqchen/PcArcBruTile</a>。如果以上链接打开有问题，也可 <a href="http://xdc.at/d/?d=PcArcBruTile" target="_blank">点此下载</a> 。安装时需要解压后以管理员身份运行<code>ArcBruTileSetup_setup_0.4.exe</code>。可能只适用于某几个ArcGIS版本。该插件与本人没有任何关系。</del></p>
<p>PPS：【更新】加载网络底图也可以借助于 WMTS 服务，理论上适用于ArcGIS 10.1及以上所有版本，详情参见 <a href="/2017/10/28/add-google-map-to-arcmap/">在ArcMap中添加在线地图图层（无需插件）</a></p>
</blockquote>
<h3 id="获取激活码"><a href="#获取激活码" class="headerlink" title="获取激活码"></a>获取激活码</h3><p>未输入过激活码时，可在任意机器上使用到2016年4月15日（该工具最早发布于2016年4月初）。之后使用需要输入与机器码对应的激活码，试用运行时，会在运行过程中显示出机器码。在Win7以上系统中，激活码可自动写入到用户文件夹，因此输入一次即可。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/running-3.png" alt="输入激活码时的截图" title="">
                </div>
                <div class="image-caption">输入激活码时的截图</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/transportation-contourline-tbx/running-4.png" alt="输入过激活码时的截图" title="">
                </div>
                <div class="image-caption">输入过激活码时的截图</div>
            </figure>
<p>该软件是与 <a href="http://www.udparty.com/" target="_blank" rel="external">城市数据派</a> 的合作版本，城市数据派会员可联系数据派管理员获取激活码。非数据派会员可发邮件至<code>i@xdc.at</code>与我联系。<br>获取激活码时请提供运行时显示的机器码。</p>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><p>1.    如果运行过程中，在创建完采样点shp之后，无法创建栅格文件。可能原因是 地理处理-环境-处理范围 不是“默认”，请修改后重试。<br>2.    无法对采样点shp文件进行投影。可能原因是选择的投影坐标系不适合输入的地点，请修改后重试。<br>3.    其他错误的话请检查输出文件路径内是否有空格、下划线等。</p>
<h3 id="相关论文"><a href="#相关论文" class="headerlink" title="相关论文"></a>相关论文</h3><p><a href="http://kns.cnki.net/KCMS/detail/detail.aspx?dbcode=CPFD&amp;dbname=CPFDLAST2017&amp;filename=ZHCG201609004064" target="_blank" rel="external">基于互联网地图服务的城市一日交流圈分析——以沪宁杭三市为例【中国知网】</a></p>
<p>引用格式参考：<br><code>谢栋灿. 基于互联网地图服务的城市一日交流圈分析——以沪宁杭三市为例: 2016中国城市规划年会, 中国辽宁沈阳, 2016[C].</code></p>
<p>使用该工具的公开研究成果，请注明以上引用，和/或附上本页面网址 <code>http://i.xdc.at/2016/10/30/transportation-contour-line-tbx/</code> 。</p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p>v1.2.5 稳定版本发布<br>v1.3.1 支持自定义采样空间边界<br>v1.3.3 更新公交方式数据接口<br>v1.4.1 测试加入多线程支持<br>v1.5.0 添加骑行交通方式支持；支持自动选择最接近的投影坐标系</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a href="http://xdc.at/d/?d=dsx1.3.3" target="_blank">xdc交通等时线工具箱v1.3.3.tbx</a><br><a href="http://xdc.at/d/?d=dsx1.4.1" target="_blank">xdc交通等时线工具箱v1.4.1.tbx（多线程测试版）</a><br><a href="http://xdc.at/d/?d=dsx1.5.0" target="_blank">xdc交通等时线工具箱v1.5.0.tbx（骑行方式测试版）</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;该软件最早于 2016-04-06 发布在城市数据派网站&lt;br&gt;&lt;a href=&quot;http://www.udparty.com/topic/1758.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;xdc交通等时线工具箱&lt;
    
    </summary>
    
      <category term="软件工具" scheme="https://i.xdc.at/categories/software/"/>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="高德" scheme="https://i.xdc.at/tags/%E9%AB%98%E5%BE%B7/"/>
    
      <category term="tbx" scheme="https://i.xdc.at/tags/tbx/"/>
    
      <category term="工具箱" scheme="https://i.xdc.at/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
    
      <category term="交通等时线" scheme="https://i.xdc.at/tags/%E4%BA%A4%E9%80%9A%E7%AD%89%E6%97%B6%E7%BA%BF/"/>
    
  </entry>
  
  <entry>
    <title>上海市公交线路简要分析</title>
    <link href="https://i.xdc.at/2016/10/06/shanghai-busline-analysis/"/>
    <id>https://i.xdc.at/2016/10/06/shanghai-busline-analysis/</id>
    <published>2016-10-06T06:22:50.000Z</published>
    <updated>2017-03-03T08:17:07.538Z</updated>
    
    <content type="html"><![CDATA[<p>本文首发于微信公众号 远见<code>farsightj</code>，<a href="https://mp.weixin.qq.com/s?__biz=MzAwMjUyMjA4Mw==&amp;mid=2651734880&amp;idx=1&amp;sn=078e80f7cec69013644fc115f5cbcfdd" target="_blank" rel="external">原文链接</a>。</p>
<hr>
<p><em>注：以下使用的数据主要是2015年12月抓取的上海市公交线路网数据，与最新抓取的数据相比，新的数据更加完善。</em></p>
<p>公共交通一直以来都是城市发展的重点，国务院也曾多次就发展城市公共交通下发指导意见。2016年2月24日，《上海市公共汽（电）车客运线路优化导则》编制完成，截至3月3日开始广泛的征询市民意见。那么，上海市民对市内公共交通的运营现状了解多少呢？我们下面将从公交基本服务情况、公交服务能力和区域公交联系三大方面对上海市的公交建设发展现状进行分析。</p>
<a id="more"></a>
<h3 id="1-线路基本服务情况"><a href="#1-线路基本服务情况" class="headerlink" title="1. 线路基本服务情况"></a>1. 线路基本服务情况</h3><p>公共汽车一般是城市中发展历史最久，覆盖面积最广的公共交通形式。公交站点分布与公交线路的布局与居民生活日常出行息息相关。城市发展的现阶段，公交作为一种公共资源在空间上的分布肯定是非均质的。那么，在上海市内哪些地区公交站点、公交线路的分布最为密集呢？于是我们计算了站点<em>(计算时使用的数据中，如果同一站点停靠了多条公交线路，则每条线路都会有一个对应的点。下文涉及站点时与此相同)</em>的点密度图与线路的线密度图<em>(同一线路的往返方向为不同的两条线)</em>。从以下两图可以看到，公交站点与公交线路主要集中在中心城区与郊区的副中心，与上海市的城镇体系结构和人口空间分布情况基本一致。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/density.jpg" alt="公交站点与公交线路密度" title="">
                </div>
                <div class="image-caption">公交站点与公交线路密度</div>
            </figure>
<p>除了站点密度和线路密度之外，公交线路的运营长度也是评价公交服务水平的重要指标，一般以不超过15公里为宜。线路过长，车辆周转率下降，为保证效率需要投入更多的运营车辆而增加成本，否则发车间隔增加，乘车不便；而线路过短，则会导致居民出行换乘次数增加，同样会给乘客带来诸多不便。统计分析显示，上海市公交运营长度主要集中在15公里左右，有大量的运营长度超过15公里的公交；线路长路超过20公里后的公交数量急剧下降。这也和上海市建成区面积的扩张有一定的关系。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/distribution-of-length.jpg" alt="线路长度分布" title="">
                </div>
                <div class="image-caption">线路长度分布</div>
            </figure>
<p>公交线路在尽可能保证覆盖城市道路的同时，线路非直线系数（起点、终点间的路上实际距离与两点间直线距离的比值）也不宜过大，最后应该控制在1.5以下，过大则会导致居民出行距离和出行时间增加。经过分析发现，上海市一半以上线路的非直线系数超标，但不排除分析结果受到了部分环形线路干扰的情况。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/od-line.jpg" alt="起点终点连线" title="">
                </div>
                <div class="image-caption">起点终点连线</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/index.jpg" alt="非直线系数分布" title="">
                </div>
                <div class="image-caption">非直线系数分布</div>
            </figure>
<p>从运营时间来看，公交线路的运营时间主要集中在白天的8:00-18:00时间段，在凌晨1:00-4:00时间段运营车辆最少。公交运行一般在早上7:00时段正式开始，运行线路数在至7点-19点的时间段内一直维持在高水平。在夜间运营的车辆中，主要是从市中心开往郊区方向，徐泾镇方向有较多夜间行车。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/running-lines.gif" alt="逐时段运营线路" title="">
                </div>
                <div class="image-caption">逐时段运营线路</div>
            </figure>
<h3 id="2-服务面积与服务人口"><a href="#2-服务面积与服务人口" class="headerlink" title="2. 服务面积与服务人口"></a>2. 服务面积与服务人口</h3><p>对于公交系统的评价，一个重要的指标是其服务范围。一般公交站点的服务半径在300至500米，是步行适宜的距离，据此计算公交站点的服务面积覆盖率可以评价公交线路的服务能力。<br>就整个上海市而言，以300米来计算公交站点的服务范围，则服务面积共覆盖上海市建成区的56.40%，以500米计算服务范围，则覆盖建成区面积的78.15%，距离500米内90%的面积覆盖的目标还有很长的路要走。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/service-area.jpg" alt="服务面积" title="">
                </div>
                <div class="image-caption">服务面积</div>
            </figure>
<p>以上是从服务面积的角度分析覆盖率，那么，从服务人口数角度的分析结果会是怎样呢？<br>以上海市第六次人口普查的常住人口密度作为服务人口的统计依据，计算后发现，300m和500m半径的服务人口分别占到了常住人口总数的74.95%和89.20% 。从服务人口角度计算的上海市公交服务能力更好。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/service-popu.jpg" alt="服务人口" title="">
                </div>
                <div class="image-caption">服务人口</div>
            </figure>
<p>上文已提到，公交资源的空间分布是不均衡的。我们对于上海市不同的行政区的公交资源进行了比较分析。比较不同的行政区内公交站点数量发现，浦东新区、闵行区、松江区内公交站点的数量是所有行政区中最多的。然而在计算单位面积内的公交站点数量时，我们发现，黄浦区、静安区、虹口区等中心城区的单位面积的公交资源排在前列，中心城区公交站的密度仍远远大于郊区。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/busstop-num.jpg" alt="各区公交站点数量" title="">
                </div>
                <div class="image-caption">各区公交站点数量</div>
            </figure>
<p>比较不同行政区内的公交线路里程数，我们了发现相同的情况。公交线路总里程的比较上，郊区大于中心城区；但比较单位面积内的公交里程，中心城区则远远大于郊区。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/busline-length.jpg" alt="各区公交里程" title="">
                </div>
                <div class="image-caption">各区公交里程</div>
            </figure>
<p>公共交通的建设上是中心城区占优，因此不同地区的公交服务情况也会不同。<br>我们比较了各行政区内人均的公交站点数量和公交里程。在人均公交里程上，各个行政区的差别不大。但比较每个站点平均服务人口上，中心城区所面临的服务的压力要比郊区地区大得多。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/busstop-pop.jpg" alt="每个车站平均服务人口" title="">
                </div>
                <div class="image-caption">每个车站平均服务人口</div>
            </figure>
<h3 id="3-公交线路空间联系"><a href="#3-公交线路空间联系" class="headerlink" title="3. 公交线路空间联系"></a>3. 公交线路空间联系</h3><p>公交线路串联起了上海市内不同的行政区和重要的地点。具体每个街道之间通过公交线路的联系程度有多强呢？<br>我们设定，一条公交线路只要同时在两个街道有停靠，那就为这两个街道间的联系强度值+1，最终生成对应的街道联系矩阵。由下图可知，联系较强的区域主要由中心城区向外呈放射状分布，陆家嘴街道和徐家汇街道分别是浦东和浦西的公交联系核心，但浦东浦西之间的公交联系较弱。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/jiedao-od.jpg" alt="街道间联系强度" title="">
                </div>
                <div class="image-caption">街道间联系强度</div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/shanghai-busline-analysis/table.jpg" alt="街道间联系线路数量" title="">
                </div>
                <div class="image-caption">街道间联系线路数量</div>
            </figure>
<p>以上就是我们初步的分析结果，欢迎各位大侠与我们交流讨论~</p>
<p><em>本文编辑： xdc@farsightj.cn , zyp@farsightj.cn , tjl@farsightj.cn</em></p>
<hr>
<p>欲了解更多数据与分析情况，欢迎关注公众号“远见”与我们联系。扫描下面的二维码识别关注。<br>手机端微信外看到此文章，可在微信搜索“farsightj”添加我们的公众号。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/qrcode/wx-farsightj.jpg" alt="远见公众号" title="">
                </div>
                <div class="image-caption">远见公众号</div>
            </figure></p>
<p>也欢迎持续关注远见网站 <a href="http://farsightj.cn" target="_blank" rel="external">http://farsightj.cn</a> 。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文首发于微信公众号 远见&lt;code&gt;farsightj&lt;/code&gt;，&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzAwMjUyMjA4Mw==&amp;amp;mid=2651734880&amp;amp;idx=1&amp;amp;sn=078e80f7cec69013644fc115f5cbcfdd&quot;&gt;原文链接&lt;/a&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;注：以下使用的数据主要是2015年12月抓取的上海市公交线路网数据，与最新抓取的数据相比，新的数据更加完善。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;公共交通一直以来都是城市发展的重点，国务院也曾多次就发展城市公共交通下发指导意见。2016年2月24日，《上海市公共汽（电）车客运线路优化导则》编制完成，截至3月3日开始广泛的征询市民意见。那么，上海市民对市内公共交通的运营现状了解多少呢？我们下面将从公交基本服务情况、公交服务能力和区域公交联系三大方面对上海市的公交建设发展现状进行分析。&lt;/p&gt;
    
    </summary>
    
      <category term="数据分析" scheme="https://i.xdc.at/categories/data-analysis/"/>
    
    
      <category term="公交线路" scheme="https://i.xdc.at/tags/%E5%85%AC%E4%BA%A4%E7%BA%BF%E8%B7%AF/"/>
    
      <category term="公交" scheme="https://i.xdc.at/tags/%E5%85%AC%E4%BA%A4/"/>
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="上海市" scheme="https://i.xdc.at/tags/%E4%B8%8A%E6%B5%B7%E5%B8%82/"/>
    
      <category term="数据分析" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>全国公交线网数据</title>
    <link href="https://i.xdc.at/2016/10/06/busline-data/"/>
    <id>https://i.xdc.at/2016/10/06/busline-data/</id>
    <published>2016-10-06T04:21:38.000Z</published>
    <updated>2017-08-05T15:17:14.948Z</updated>
    
    <content type="html"><![CDATA[<p>本文首发于微信公众号 远见<code>farsightj</code>，<a href="https://mp.weixin.qq.com/s?__biz=MzAwMjUyMjA4Mw==&amp;mid=2651734834&amp;idx=1&amp;sn=5dd381774506bffc2edcfea63a3db736" target="_blank" rel="external">原文链接</a>。</p>
<hr>
<h3 id="数据概况"><a href="#数据概况" class="headerlink" title="数据概况"></a>数据概况</h3><p>新鲜出炉的全国公共交通（公交、地铁、部分长途线路）站点与线网数据，线路约8万条。</p>
<p>全国公共交通站点：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/busline-data/busstop.jpg" alt="全国公共交通站点" title="">
                </div>
                <div class="image-caption">全国公共交通站点</div>
            </figure></p>
<a id="more"></a>
<p>全国公共交通线网：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/busline-data/busline.jpg" alt="全国公共交通线网" title="">
                </div>
                <div class="image-caption">全国公共交通线网</div>
            </figure></p>
<p>上海市公共交通线网，超精准线路哦：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/busline-data/shanghai-busline.jpg" alt="上海市公共交通线网" title="">
                </div>
                <div class="image-caption">上海市公共交通线网</div>
            </figure></p>
<p>市中心放大：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/busline-data/shanghai-center-busline.jpg" alt="上海市中心区公共交通线网" title="">
                </div>
                <div class="image-caption">上海市中心区公共交通线网</div>
            </figure></p>
<p>属性包含运营时间、发车间隔、票价、是否空调车等。</p>
<hr>
<p>欲了解更多数据与分析情况，欢迎关注公众号“远见”与我们联系。扫描下面的二维码识别关注。<br>手机端微信外看到此文章，可在微信搜索“farsightj”添加我们的公众号。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/qrcode/wx-farsightj.jpg" alt="远见公众号" title="">
                </div>
                <div class="image-caption">远见公众号</div>
            </figure></p>
<p>也欢迎持续关注远见网站 <a href="http://farsightj.cn" target="_blank" rel="external">http://farsightj.cn</a> 。</p>
<h3 id="在线可视化"><a href="#在线可视化" class="headerlink" title="在线可视化"></a>在线可视化</h3><p>基于mapbox的全国公交线路在线可视化，<a href="http://xdc.at/map/busline.html" target="_blank" rel="external">点此查看</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文首发于微信公众号 远见&lt;code&gt;farsightj&lt;/code&gt;，&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzAwMjUyMjA4Mw==&amp;amp;mid=2651734834&amp;amp;idx=1&amp;amp;sn=5dd381774506bffc2edcfea63a3db736&quot;&gt;原文链接&lt;/a&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;数据概况&quot;&gt;&lt;a href=&quot;#数据概况&quot; class=&quot;headerlink&quot; title=&quot;数据概况&quot;&gt;&lt;/a&gt;数据概况&lt;/h3&gt;&lt;p&gt;新鲜出炉的全国公共交通（公交、地铁、部分长途线路）站点与线网数据，线路约8万条。&lt;/p&gt;
&lt;p&gt;全国公共交通站点：&lt;br&gt;&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;
                    &lt;div class=&quot;overlay&quot;&gt;&lt;/div&gt;
                    &lt;img src=&quot;/assets/images/busline-data/busstop.jpg&quot; alt=&quot;全国公共交通站点&quot; title=&quot;&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;image-caption&quot;&gt;全国公共交通站点&lt;/div&gt;
            &lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="公交线路" scheme="https://i.xdc.at/tags/%E5%85%AC%E4%BA%A4%E7%BA%BF%E8%B7%AF/"/>
    
      <category term="公交" scheme="https://i.xdc.at/tags/%E5%85%AC%E4%BA%A4/"/>
    
      <category term="地铁" scheme="https://i.xdc.at/tags/%E5%9C%B0%E9%93%81/"/>
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="数据介绍" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D/"/>
    
  </entry>
  
  <entry>
    <title>全国POI数据</title>
    <link href="https://i.xdc.at/2016/10/06/poi-data/"/>
    <id>https://i.xdc.at/2016/10/06/poi-data/</id>
    <published>2016-10-06T02:20:40.000Z</published>
    <updated>2017-08-13T23:42:46.573Z</updated>
    
    <content type="html"><![CDATA[<p>本文首发于微信公众号 远见<code>farsightj</code>，<a href="https://mp.weixin.qq.com/s?__biz=MzAwMjUyMjA4Mw==&amp;mid=2651734823&amp;idx=1&amp;sn=128fc0a3a68546736db59a1129ddfe75" target="_blank" rel="external">原文链接</a>。<br><em>字段信息等更新在<a href="#补充信息">文末</a>。</em></p>
<h3 id="微信原文"><a href="#微信原文" class="headerlink" title="微信原文"></a>微信原文</h3><hr>
<p>新鲜出炉的2016全国POI，共约4500+万条。<br>分类齐全，位置精准，字段完整。展示如下：</p>
<a id="more"></a>
<p>全国POI密度分布：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-density.jpg" alt="全国POI密度分布" title="">
                </div>
                <div class="image-caption">全国POI密度分布</div>
            </figure></p>
<p>全国黄焖鸡米饭分布：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-hmjmf.jpg" alt="全国黄焖鸡米饭分布" title="">
                </div>
                <div class="image-caption">全国黄焖鸡米饭分布</div>
            </figure></p>
<p>全国沙县小吃分布:<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-sxxc.jpg" alt="全国沙县小吃分布" title="">
                </div>
                <div class="image-caption">全国沙县小吃分布</div>
            </figure></p>
<p>全国公交站点分布：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-gjzd.jpg" alt="全国公交站点分布" title="">
                </div>
                <div class="image-caption">全国公交站点分布</div>
            </figure></p>
<p>同济大学周边全部POI：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-tjdx.jpg" alt="同济大学周边全部POI" title="">
                </div>
                <div class="image-caption">同济大学周边全部POI</div>
            </figure></p>
<p>结构化存储，任意筛选切分！<br>各位项目或研究大侠！<br>有需要请与我们公众号联系哦~</p>
<hr>
<p>欲了解更多数据与分析情况，欢迎关注公众号“远见”与我们联系。扫描下面的二维码识别关注。<br>手机端微信外看到此文章，可在微信搜索“farsightj”添加我们的公众号。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/qrcode/wx-farsightj.jpg" alt="远见公众号" title="">
                </div>
                <div class="image-caption">远见公众号</div>
            </figure></p>
<p>也欢迎持续关注远见网站 <a href="http://farsightj.cn" target="_blank" rel="external">http://farsightj.cn</a> 。</p>
<h3 id="补充信息"><a href="#补充信息" class="headerlink" title="补充信息"></a>补充信息</h3><p><strong>数据字段信息：</strong><br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/assets/images/poi-data/poi-data-info.jpg" alt="数据字段信息" title="">
                </div>
                <div class="image-caption">数据字段信息</div>
            </figure></p>
<p>POI分类对照表可 <a href="/assets/images/poi-data/poi-type-list.pdf">点此下载</a></p>
<p><strong>TIP:</strong><br>高德 API 在返回 POI 结果时，并非是完整数据，而是存在一定程度的缺失。部分权重较低的 POI，如 ATM 等，在大类搜索结果里缺失就较多。<br>为了规避缺失，可采用更换不同关键词、更改搜索范围等方法交叉抓取，将得到的结果合并去重。但这样会带来较大的抓取工作量，目前已有的4500+万条数据已能满足大多数场景下的分析需求。（<a href="/2016/11/20/poi-data-update-201611/">已更新至 5600 万数据量</a>）<br>如果需要某细分类的更完整数据，可发邮件至 <code>i@xdc.at</code> 定制抓取服务。</p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p><a href="/2016/11/20/poi-data-update-201611/">全国POI数据2016年11月更新</a><br><a href="/2017/02/21/poi-data-update-201702/">全国POI数据2017年2月更新</a><br><a href="/2017/06/23/poi-data-update-201706/">全国POI数据2017年6月更新</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文首发于微信公众号 远见&lt;code&gt;farsightj&lt;/code&gt;，&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzAwMjUyMjA4Mw==&amp;amp;mid=2651734823&amp;amp;idx=1&amp;amp;sn=128fc0a3a68546736db59a1129ddfe75&quot;&gt;原文链接&lt;/a&gt;。&lt;br&gt;&lt;em&gt;字段信息等更新在&lt;a href=&quot;#补充信息&quot;&gt;文末&lt;/a&gt;。&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;微信原文&quot;&gt;&lt;a href=&quot;#微信原文&quot; class=&quot;headerlink&quot; title=&quot;微信原文&quot;&gt;&lt;/a&gt;微信原文&lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;新鲜出炉的2016全国POI，共约4500+万条。&lt;br&gt;分类齐全，位置精准，字段完整。展示如下：&lt;/p&gt;
    
    </summary>
    
      <category term="数据介绍" scheme="https://i.xdc.at/categories/data/"/>
    
    
      <category term="开放数据" scheme="https://i.xdc.at/tags/%E5%BC%80%E6%94%BE%E6%95%B0%E6%8D%AE/"/>
    
      <category term="数据介绍" scheme="https://i.xdc.at/tags/%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D/"/>
    
      <category term="POI" scheme="https://i.xdc.at/tags/POI/"/>
    
  </entry>
  
  <entry>
    <title>使用 SQL Server 存储空间要素</title>
    <link href="https://i.xdc.at/2016/10/05/geometry-in-SQL-Server/"/>
    <id>https://i.xdc.at/2016/10/05/geometry-in-SQL-Server/</id>
    <published>2016-10-05T07:20:39.000Z</published>
    <updated>2017-06-17T08:28:14.135Z</updated>
    
    <content type="html"><![CDATA[<p><strong>写在前面 :</strong><br><strong><em>为什么要在 SQL Server 内创建空间要素？</em></strong><br>该需求来自于千万级别POI数据的存储与可视化。<br>存储部分使用 SQL Server 即可，并且筛选查询的效率也比较高。<br>可视化方面用的比较多的是 ArcGIS , 分析起来也比较方便，但对于大批量数据的处理效率比较低。<br>因此就希望能够把数据库的存储与查询能力，和 ArcGIS 的空间数据可视化与分析能力结合起来。经过一番搜索，得到了以下的解决方案。</p>
<a id="more"></a>
<h3 id="1-在-SQL-Server-内创建空间要素"><a href="#1-在-SQL-Server-内创建空间要素" class="headerlink" title="1. 在 SQL Server 内创建空间要素"></a>1. 在 SQL Server 内创建空间要素</h3><p>在数据库内创建空间要素的方法来自于微软官方文档 <a href="https://msdn.microsoft.com/zh-cn/library/bb895270.aspx" target="_blank" rel="external">创建、构造和查询几何图形实例</a>，在 SQL Server 2014 上测试可用。<br>此处以创建点要素为例: <code>geometry::STPointFromText(&#39;POINT (x y)&#39;, SRID)</code><br>其中 x, y 为坐标值。SRID为空间参考编号，可在 ArcGIS 内空间参考设置处找到不同坐标系的ID， WGS 1984 坐标系的 SRID 为 4326 。<br>因此可用以下代码创建一个经纬度为<code>121.15545, 31.65894</code>的点。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">select geometry::STPointFromText(&apos;POINT (121.15545 31.65894)&apos;, 4326)</div></pre></td></tr></table></figure></p>
<h3 id="2-构造一个-ArcGIS-可直接连接的数据表"><a href="#2-构造一个-ArcGIS-可直接连接的数据表" class="headerlink" title="2. 构造一个 ArcGIS 可直接连接的数据表"></a>2. 构造一个 ArcGIS 可直接连接的数据表</h3><p>要在 ArcGIS 内直接显示 SQL Server 数据表内的空间要素，则对数据表的结构有一定要求。<br>以点要素为例，创建的表需要以<code>int</code>类型的<code>OBJECTID</code>字段作为主键，并有一个<code>geometry</code>数据类型的字段。<br>示例代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">/*****  创建包含空间数据的表 *****/</div><div class="line">USE [测试数据库]</div><div class="line">CREATE TABLE [测试数据表] (</div><div class="line">	[OBJECTID] [int] primary key not NULL,</div><div class="line">	[id] [varchar](10) NULL,</div><div class="line">	[name] [varchar](200) NULL,</div><div class="line">	[lng] [float] NULL,</div><div class="line">	[lat] [float] NULL,</div><div class="line">	[形状] [geometry] not NULL</div><div class="line">)</div><div class="line"></div><div class="line">/*****  将数据插入表中 *****/</div><div class="line">insert into [测试数据表]</div><div class="line">SELECT ROW_NUMBER()  over (order by [id]) as [OBJECTID]</div><div class="line">      ,[id]</div><div class="line">      ,[name]</div><div class="line">      ,[lng]</div><div class="line">      ,[lat]</div><div class="line">      ,geometry::STPointFromText(concat(&apos;POINT (&apos;,convert(varchar, [lng], 128), &apos; &apos;, convert(varchar, [lat], 128),  &apos;)&apos;), 4326 ) as [形状]</div><div class="line">  FROM [原数据表]</div></pre></td></tr></table></figure></p>
<p><strong>Tip :</strong><br>快速获得原数据表的数据结构代码，可对原数据表<code>右键-编写表脚本为-CREATE 到-新查询编辑器窗口</code></p>
<h3 id="3-使用-ArcGIS-显示-SQL-Server-内存储的数据"><a href="#3-使用-ArcGIS-显示-SQL-Server-内存储的数据" class="headerlink" title="3. 使用 ArcGIS 显示 SQL Server 内存储的数据"></a>3. 使用 ArcGIS 显示 SQL Server 内存储的数据</h3><p>ArcGIS 软件提供了丰富的数据源方式，其中就包括 SQL Server。</p>
<ul>
<li>ArcMap 内，<code>目录</code>窗口，双击<code>数据库连接</code>-<code>添加数据库连接</code>。</li>
<li>在弹出的窗口内，数据库平台选择<code>SQL Server</code>，实例填写 SQL Server 服务器名（SQL Server 安装在本机的话，可填写<code>localhost</code>或本机计算机名），身份验证类型按需选择，默认为<code>操作系统身份验证</code>，然后在下拉列表内选择数据表所在数据库，确定即可。</li>
<li>在<code>数据库连接</code>下找到新添加的连接，双击打开，将包含空间数据的表拖到显示窗口内即可。如果数据量较大，计算范围时间过程，可选择<code>使用空间参考范围</code>跳过此步骤。</li>
</ul>
<p>如果只需要显示部分的数据，可在图层的<code>属性-定义查询</code>内填入筛选查询语句。筛选操作由数据库后台完成，因此效率还可以接受。</p>
<p><font color="white">本文来自  i.xdc.at/2016/10/05/geometry-in-SQL-Server/  </font></p>
<hr>
<p><strong>Tip :</strong><br>如果想创建存储其他空间要素类型的数据表，如线要素的表，可在 ArcGIS 内将已有的线数据图层<code>右键-数据-导出数据...</code>，输出要素类的保存类型选择<code>数据库要素类</code>，将数据保存到数据库连接里的一张新表内，然后在 SQL Server 内查看这张表的结构，具体操作为对这张表<code>右键-编写表脚本为-CREATE 到-新查询编辑器窗口</code> 。</p>
<h3 id="UPDATE-2016-10-06"><a href="#UPDATE-2016-10-06" class="headerlink" title="UPDATE: 2016-10-06"></a>UPDATE: 2016-10-06</h3><p>为提高数据在 ArcGIS 内显示的效率，最好对数据表创建空间索引，参见 <a href="https://msdn.microsoft.com/zh-cn/library/bb964705.aspx" target="_blank" rel="external">创建、修改和删除空间索引</a> 。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;写在前面 :&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;&lt;em&gt;为什么要在 SQL Server 内创建空间要素？&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;该需求来自于千万级别POI数据的存储与可视化。&lt;br&gt;存储部分使用 SQL Server 即可，并且筛选查询的效率也比较高。&lt;br&gt;可视化方面用的比较多的是 ArcGIS , 分析起来也比较方便，但对于大批量数据的处理效率比较低。&lt;br&gt;因此就希望能够把数据库的存储与查询能力，和 ArcGIS 的空间数据可视化与分析能力结合起来。经过一番搜索，得到了以下的解决方案。&lt;/p&gt;
    
    </summary>
    
    
      <category term="ArcGIS" scheme="https://i.xdc.at/tags/ArcGIS/"/>
    
      <category term="SQL Server" scheme="https://i.xdc.at/tags/SQL-Server/"/>
    
  </entry>
  
  <entry>
    <title>Markdown 入门</title>
    <link href="https://i.xdc.at/2016/10/04/markdown-test/"/>
    <id>https://i.xdc.at/2016/10/04/markdown-test/</id>
    <published>2016-10-04T09:04:12.000Z</published>
    <updated>2018-01-01T06:24:18.200Z</updated>
    
    <content type="html"><![CDATA[<p>标题</p>
<p>标题直接以1个或多个<code>#</code>开头，表示不同等级。</p>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><a id="more"></a>
<hr>
<p>有序列表直接数字加句号加内容即可。<br>无序列表以<code>-</code>、<code>+</code>或者<code>*</code>开头</p>
<ol>
<li>有序列表1</li>
<li>有序列表2</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">如果不想产生列表，则需要用\转义，如</div><div class="line">1986\. What a great season.</div><div class="line">以下字符均可加 \ 进行转义来显示为普通符号:</div><div class="line">\ ` * _ &#123;&#125; [] () # + - . !</div></pre></td></tr></table></figure>
<ul>
<li>无序列表1<br>测试多行</li>
<li>无序列表2</li>
</ul>
<ul>
<li>无序列表*</li>
<li>无序列表*</li>
</ul>
<hr>
<p>引用的内容以<code>&gt;</code>开头</p>
<blockquote>
<p>这里是引用<br>多行引用</p>
</blockquote>
<hr>
<p>测试插入图片</p>
<p><code>![图片替代文字](http://i.xdc.at/assets/avatar/avatar.png &quot;图片标题&quot;)</code></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://i.xdc.at/assets/avatar/avatar.png" alt="avatar" title="">
                </div>
                <div class="image-caption">avatar</div>
            </figure>
<p>测试插入连接<br><code>[链接文字](http://i.xdc.at/ &quot;链接标题&quot;)</code><br><a href="http://i.xdc.at/" title="链接标题">主页</a><br>链接标题可省略</p>
<hr>
<p>粗体 <code>**这里是粗体**</code><br>斜体 <code>*这里是斜体*</code><br>删除线 <code>~~带删除线~~</code></p>
<p><strong>这里是粗体</strong><br><em>这里是斜体</em><br><del>带删除线</del></p>
<hr>
<p>表格</p>
<pre><code>|表头1|表头2|表头3|
|----|:----:|----:|
|值1|值2|值3|
|靠左|居中|靠右|
</code></pre><table>
<thead>
<tr>
<th>–表头1–</th>
<th style="text-align:center">–表头2–</th>
<th style="text-align:right">–表头3–</th>
</tr>
</thead>
<tbody>
<tr>
<td>值1</td>
<td style="text-align:center">值2</td>
<td style="text-align:right">值3</td>
</tr>
<tr>
<td>靠左</td>
<td style="text-align:center">居中</td>
<td style="text-align:right">靠右</td>
</tr>
</tbody>
</table>
<hr>
<p>代码区块<br>缩进4个空格或者一个制表符即可产生代码区块(上下要有空行)<br>或前后使用三个 <code>` </code> 。</p>
<pre><code>import time
print time.ctime()
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import time</div><div class="line">print time.ctime()</div></pre></td></tr></table></figure>
<p>行内代码，使用两个`括起来。<br>测试 <code>import time</code> 。</p>
<hr>
<p>分割线<br>三个<code>-</code>、<code>_</code>或<code>*</code></p>
<hr>
<p>教程来自<a href="http://www.jianshu.com/p/1e402922ee32/" target="_blank" rel="external">Markdown——入门指南</a><br>其他参考 <a href="http://xianbai.me/learn-md/index.html" target="_blank" rel="external">Learning-Markdown (Markdown 入门参考)</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;标题&lt;/p&gt;
&lt;p&gt;标题直接以1个或多个&lt;code&gt;#&lt;/code&gt;开头，表示不同等级。&lt;/p&gt;
&lt;h1 id=&quot;一级标题&quot;&gt;&lt;a href=&quot;#一级标题&quot; class=&quot;headerlink&quot; title=&quot;一级标题&quot;&gt;&lt;/a&gt;一级标题&lt;/h1&gt;&lt;h2 id=&quot;二级标题&quot;&gt;&lt;a href=&quot;#二级标题&quot; class=&quot;headerlink&quot; title=&quot;二级标题&quot;&gt;&lt;/a&gt;二级标题&lt;/h2&gt;&lt;h3 id=&quot;三级标题&quot;&gt;&lt;a href=&quot;#三级标题&quot; class=&quot;headerlink&quot; title=&quot;三级标题&quot;&gt;&lt;/a&gt;三级标题&lt;/h3&gt;&lt;h4 id=&quot;四级标题&quot;&gt;&lt;a href=&quot;#四级标题&quot; class=&quot;headerlink&quot; title=&quot;四级标题&quot;&gt;&lt;/a&gt;四级标题&lt;/h4&gt;&lt;h5 id=&quot;五级标题&quot;&gt;&lt;a href=&quot;#五级标题&quot; class=&quot;headerlink&quot; title=&quot;五级标题&quot;&gt;&lt;/a&gt;五级标题&lt;/h5&gt;&lt;h6 id=&quot;六级标题&quot;&gt;&lt;a href=&quot;#六级标题&quot; class=&quot;headerlink&quot; title=&quot;六级标题&quot;&gt;&lt;/a&gt;六级标题&lt;/h6&gt;
    
    </summary>
    
    
      <category term="Markdown" scheme="https://i.xdc.at/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://i.xdc.at/2016/10/04/first-post/"/>
    <id>https://i.xdc.at/2016/10/04/first-post/</id>
    <published>2016-10-04T06:22:20.000Z</published>
    <updated>2016-11-21T14:05:16.582Z</updated>
    
    <content type="html"><![CDATA[<p>这是一篇使用Hexo生成的博文。</p>
<hr>
<p>最初看到GitHub + Hexo的建站教程是在知乎专栏 <a href="https://zhuanlan.zhihu.com/p/22274983" target="_blank" rel="external">GitHub + Hexo (1)：在 OS X 下建立你的第一个博客——史上最靠谱教程</a> ，随后找到相应的 Windows 下教程 <a href="https://zhuanlan.zhihu.com/p/22191919" target="_blank" rel="external">用 GitHub + Hexo 建立你的第一个博客</a> 。</p>
<p>相对Jekyll来看，Hexo似乎上手容易的多，加上已注册 GitHub 并有独立域名，因此很快就完成了部署测试。<br><a id="more"></a><br>主题选择了简洁风格的 <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">yilia</a>，使用起来效果不错。</p>
<p>Markdown 的编辑使用了 <a href="http://pad.haroopress.com/user.html" target="_blank" rel="external">Haroopad</a>，参照着 <a href="http://www.jianshu.com/p/1e402922ee32/" target="_blank" rel="external">Markdown——入门指南</a> 写下此文。</p>
<hr>
<p>感谢提供开源工具、平台以及相关教程的公司与个人，是你们让互联网更加自由和美好。</p>
<hr>
<p>UPDATE: 2016年10月20日11:10:29<br>将托管服务从 GitHub 迁移到 <a href="https://coding.net/" target="_blank" rel="external">Coding.net</a></p>
<p>UPDATE: 2016年10月27日00:19:22<br>将主题更换为 <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank" rel="external">indigo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是一篇使用Hexo生成的博文。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;最初看到GitHub + Hexo的建站教程是在知乎专栏 &lt;a href=&quot;https://zhuanlan.zhihu.com/p/22274983&quot;&gt;GitHub + Hexo (1)：在 OS X 下建立你的第一个博客——史上最靠谱教程&lt;/a&gt; ，随后找到相应的 Windows 下教程 &lt;a href=&quot;https://zhuanlan.zhihu.com/p/22191919&quot;&gt;用 GitHub + Hexo 建立你的第一个博客&lt;/a&gt; 。&lt;/p&gt;
&lt;p&gt;相对Jekyll来看，Hexo似乎上手容易的多，加上已注册 GitHub 并有独立域名，因此很快就完成了部署测试。&lt;br&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="https://i.xdc.at/tags/Hexo/"/>
    
      <category term="GitHub" scheme="https://i.xdc.at/tags/GitHub/"/>
    
      <category term="Markdown" scheme="https://i.xdc.at/tags/Markdown/"/>
    
      <category term="Coding.net" scheme="https://i.xdc.at/tags/Coding-net/"/>
    
  </entry>
  
</feed>
